{"dependencies":[{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":245},"end":{"line":11,"column":69,"index":314}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"obstacleService\", {\n    enumerable: true,\n    get: function () {\n      return obstacleService;\n    }\n  });\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[0], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * ObstacleService - –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è–º–∏ –∏–∑ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤\n   * \n   * –§—É–Ω–∫—Ü–∏–∏:\n   * - –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π —Ä—è–¥–æ–º —Å —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–µ–π\n   * - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö\n   * - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π\n   * - –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä–µ–∞–∫—Ü–∏–∏ –≤–æ–¥–∏—Ç–µ–ª—è\n   */\n\n  class ObstacleService {\n    backendUrl = null;\n    cachedObstacles = [];\n    lastFetchTime = 0;\n    passedObstacles = new Set(); // ID –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π\n    driverReactions = [];\n    CACHE_DURATION = 30000; // 30 —Å–µ–∫—É–Ω–¥\n    PASSED_DISTANCE = 50; // –º–µ—Ç—Ä–æ–≤ - —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–º\n    initialized = false;\n    constructor() {\n      // –ù–µ –∑–∞–≥—Ä—É–∂–∞–µ–º AsyncStorage –≤ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ç–æ—Ä–µ - –¥–µ–ª–∞–µ–º —ç—Ç–æ –ª–µ–Ω–∏–≤–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏\n    }\n\n    /**\n     * –õ–µ–Ω–∏–≤–∞—è –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è —Å–µ—Ä–≤–∏—Å–∞\n     */\n    async ensureInitialized() {\n      if (this.initialized) return;\n\n      // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º URL\n      const url = process.env.EXPO_PUBLIC_BACKEND_URL || 'https://road-monitor-4.emergent.host';\n      this.backendUrl = url.endsWith('/') ? url : url + '/';\n      console.log('üöß ObstacleService initialized with URL:', this.backendUrl);\n\n      // –ó–∞–≥—Ä—É–∂–∞–µ–º —Ä–µ–∞–∫—Ü–∏–∏ –≤–æ–¥–∏—Ç–µ–ª—è\n      await this.loadDriverReactions();\n      this.initialized = true;\n    }\n\n    /**\n     * –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è —Ä—è–¥–æ–º —Å —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–µ–π\n     */\n    async fetchNearbyObstacles(latitude, longitude, radius = 5000, minConfirmations = 1) {\n      try {\n        // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ–º—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏\n        await this.ensureInitialized();\n\n        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à\n        const now = Date.now();\n        if (now - this.lastFetchTime < this.CACHE_DURATION && this.cachedObstacles.length > 0) {\n          console.log('üì¶ Using cached obstacles:', this.cachedObstacles.length);\n          return this.filterActiveObstacles(this.cachedObstacles, latitude, longitude);\n        }\n\n        // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Å —Å–µ—Ä–≤–µ—Ä–∞\n        const url = `${this.backendUrl}api/obstacles/nearby?latitude=${latitude}&longitude=${longitude}&radius=${radius}&min_confirmations=${minConfirmations}`;\n        console.log('üåê Fetching obstacles from:', url);\n        const response = await fetch(url, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        if (!response.ok) {\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n        }\n        const data = await response.json();\n        this.cachedObstacles = data.obstacles;\n        this.lastFetchTime = now;\n        console.log(`‚úÖ Fetched ${data.total} obstacles`);\n        return this.filterActiveObstacles(data.obstacles, latitude, longitude);\n      } catch (error) {\n        console.error('‚ùå Error fetching obstacles:', error);\n        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏\n        return this.filterActiveObstacles(this.cachedObstacles, latitude, longitude);\n      }\n    }\n\n    /**\n     * –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è - —É–±–∏—Ä–∞–µ—Ç –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–µ\n     */\n    filterActiveObstacles(obstacles, currentLat, currentLon) {\n      return obstacles.filter(obstacle => {\n        // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–µ\n        if (this.passedObstacles.has(obstacle.id)) {\n          return false;\n        }\n\n        // –ü–æ–º–µ—á–∞–µ–º –∫–∞–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–µ –µ—Å–ª–∏ –æ—á–µ–Ω—å –±–ª–∏–∑–∫–æ (–ø–æ–∑–∞–¥–∏)\n        if (obstacle.distance < this.PASSED_DISTANCE) {\n          this.markAsPassed(obstacle.id);\n          return false;\n        }\n        return true;\n      });\n    }\n\n    /**\n     * –ü–æ–ª—É—á–∏—Ç—å –±–ª–∏–∂–∞–π—à–µ–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ\n     */\n    getClosestObstacle(obstacles) {\n      if (obstacles.length === 0) return null;\n\n      // –£–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É, –Ω–æ –≤—ã–±–∏—Ä–∞–µ–º –±–ª–∏–∂–∞–π—à–µ–µ\n      return obstacles.reduce((closest, current) => {\n        return current.distance < closest.distance ? current : closest;\n      });\n    }\n\n    /**\n     * –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±—É—é—â–∏–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è\n     */\n    getAlertsForDistance(obstacles) {\n      // –ê–¥–∞–ø—Ç–∏—Ä—É–µ–º –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–∫—Ü–∏–π –≤–æ–¥–∏—Ç–µ–ª—è\n      const alertDistances = this.calculateAlertDistances();\n      return obstacles.filter(obstacle => {\n        const alertDistance = alertDistances[obstacle.type] || 500;\n        return obstacle.distance <= alertDistance && obstacle.distance > this.PASSED_DISTANCE;\n      });\n    }\n\n    /**\n     * –í—ã—á–∏—Å–ª—è–µ—Ç –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–∫—Ü–∏–π –≤–æ–¥–∏—Ç–µ–ª—è\n     */\n    calculateAlertDistances() {\n      const defaults = {\n        pothole: 500,\n        speed_bump: 300,\n        bump: 400,\n        braking: 600,\n        vibration: 400,\n        accident: 800\n      };\n\n      // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–µ–∞–∫—Ü–∏–∏ –≤–æ–¥–∏—Ç–µ–ª—è –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å–æ–±—ã—Ç–∏–π\n      const recentReactions = this.driverReactions.slice(-100);\n      for (const reaction of recentReactions) {\n        const type = reaction.obstacleType;\n        if (reaction.action === 'confirmed') {\n          // –í–æ–¥–∏—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª - —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –æ–ø–æ–≤–µ—â–µ–Ω–∏—è\n          defaults[type] = Math.min(defaults[type] + 50, 1500);\n        } else if (reaction.action === 'dismissed') {\n          // –í–æ–¥–∏—Ç–µ–ª—å –æ—Ç–∫–ª–æ–Ω–∏–ª - —É–º–µ–Ω—å—à–∞–µ–º –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –æ–ø–æ–≤–µ—â–µ–Ω–∏—è\n          defaults[type] = Math.max(defaults[type] - 50, 200);\n        }\n      }\n      return defaults;\n    }\n\n    /**\n     * –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–∫—Ü–∏—é –≤–æ–¥–∏—Ç–µ–ª—è\n     */\n    async recordDriverReaction(obstacle, action) {\n      const reaction = {\n        obstacleId: obstacle.id,\n        obstacleType: obstacle.type,\n        action,\n        timestamp: new Date().toISOString(),\n        distance: obstacle.distance\n      };\n      this.driverReactions.push(reaction);\n\n      // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 200 —Ä–µ–∞–∫—Ü–∏–π\n      if (this.driverReactions.length > 200) {\n        this.driverReactions = this.driverReactions.slice(-200);\n      }\n      await this.saveDriverReactions();\n      console.log(`üìù Driver reaction recorded: ${action} for ${obstacle.type} at ${obstacle.distance}m`);\n    }\n\n    /**\n     * –ü–æ–º–µ—Ç–∏—Ç—å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ –∫–∞–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–µ\n     */\n    markAsPassed(obstacleId) {\n      this.passedObstacles.add(obstacleId);\n      console.log(`‚úÖ Obstacle marked as passed: ${obstacleId}`);\n    }\n\n    /**\n     * –û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è (–∫–æ–≥–¥–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å)\n     */\n    clearPassedObstacles() {\n      this.passedObstacles.clear();\n      console.log('üßπ Cleared passed obstacles');\n    }\n\n    /**\n     * –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∞–∫—Ü–∏–∏ –≤–æ–¥–∏—Ç–µ–ª—è\n     */\n    async saveDriverReactions() {\n      try {\n        await AsyncStorage.default.setItem('driver_reactions', JSON.stringify(this.driverReactions));\n      } catch (error) {\n        console.error('‚ùå Error saving driver reactions:', error);\n      }\n    }\n\n    /**\n     * –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∞–∫—Ü–∏–∏ –≤–æ–¥–∏—Ç–µ–ª—è\n     */\n    async loadDriverReactions() {\n      try {\n        const data = await AsyncStorage.default.getItem('driver_reactions');\n        if (data) {\n          this.driverReactions = JSON.parse(data);\n          console.log(`üìÇ Loaded ${this.driverReactions.length} driver reactions`);\n        }\n      } catch (error) {\n        console.error('‚ùå Error loading driver reactions:', error);\n      }\n    }\n\n    /**\n     * –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∞–¥–∞–ø—Ç–∞—Ü–∏–∏\n     */\n    getAdaptationStats() {\n      return {\n        totalReactions: this.driverReactions.length,\n        confirmed: this.driverReactions.filter(r => r.action === 'confirmed').length,\n        dismissed: this.driverReactions.filter(r => r.action === 'dismissed').length,\n        ignored: this.driverReactions.filter(r => r.action === 'ignored').length\n      };\n    }\n\n    /**\n     * –ü–æ–ª—É—á–∏—Ç—å –∏–∫–æ–Ω–∫—É –¥–ª—è —Ç–∏–ø–∞ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è\n     */\n    getObstacleIcon(type) {\n      const icons = {\n        pothole: 'üï≥Ô∏è',\n        speed_bump: '‚ö†Ô∏è',\n        bump: '‚ö†Ô∏è',\n        braking: 'üö®',\n        vibration: '„Ä∞Ô∏è',\n        accident: 'üö®'\n      };\n      return icons[type] || 'üìç';\n    }\n\n    /**\n     * –ü–æ–ª—É—á–∏—Ç—å —Ü–≤–µ—Ç –¥–ª—è —É—Ä–æ–≤–Ω—è —Å–µ—Ä—å–µ–∑–Ω–æ—Å—Ç–∏\n     */\n    getSeverityColor(severity) {\n      if (severity <= 2) return '#dc2626'; // –ö—Ä–∏—Ç–∏—á–Ω–æ\n      if (severity <= 3) return '#f59e0b'; // –°—Ä–µ–¥–Ω–µ\n      return '#22c55e'; // –ù–∏–∑–∫–æ\n    }\n  }\n\n  // Singleton\n  const obstacleService = new ObstacleService();\n  var _default = obstacleService;\n});","lineCount":278,"map":[[12,2,322,0,"Object"],[12,8,322,0],[12,9,322,0,"defineProperty"],[12,23,322,0],[12,24,322,0,"exports"],[12,31,322,0],[13,4,322,0,"enumerable"],[13,14,322,0],[14,4,322,0,"get"],[14,7,322,0],[14,18,322,0,"get"],[14,19,322,0],[15,6,322,0],[15,13,322,0,"_default"],[15,21,322,0],[16,4,322,0],[17,2,322,0],[18,2,321,0,"Object"],[18,8,321,0],[18,9,321,0,"defineProperty"],[18,23,321,0],[18,24,321,0,"exports"],[18,31,321,0],[19,4,321,0,"enumerable"],[19,14,321,0],[20,4,321,0,"get"],[20,7,321,0],[20,18,321,0,"get"],[20,19,321,0],[21,6,321,0],[21,13,321,0,"obstacleService"],[21,28,321,0],[22,4,321,0],[23,2,321,0],[24,2,11,0],[24,6,11,0,"_reactNativeAsyncStorageAsyncStorage"],[24,42,11,0],[24,45,11,0,"require"],[24,52,11,0],[24,53,11,0,"_dependencyMap"],[24,67,11,0],[25,2,11,0],[25,6,11,0,"AsyncStorage"],[25,18,11,0],[25,21,11,0,"_interopDefault"],[25,36,11,0],[25,37,11,0,"_reactNativeAsyncStorageAsyncStorage"],[25,73,11,0],[26,2,1,0],[27,0,2,0],[28,0,3,0],[29,0,4,0],[30,0,5,0],[31,0,6,0],[32,0,7,0],[33,0,8,0],[34,0,9,0],[36,2,49,0],[36,8,49,6,"ObstacleService"],[36,23,49,21],[36,24,49,22],[37,4,50,10,"backendUrl"],[37,14,50,20],[37,17,50,38],[37,21,50,42],[38,4,51,10,"cachedObstacles"],[38,19,51,25],[38,22,51,40],[38,24,51,42],[39,4,52,10,"lastFetchTime"],[39,17,52,23],[39,20,52,34],[39,21,52,35],[40,4,53,10,"passedObstacles"],[40,19,53,25],[40,22,53,41],[40,26,53,45,"Set"],[40,29,53,48],[40,30,53,49],[40,31,53,50],[40,32,53,51],[40,33,53,52],[41,4,54,10,"driverReactions"],[41,19,54,25],[41,22,54,46],[41,24,54,48],[42,4,55,19,"CACHE_DURATION"],[42,18,55,33],[42,21,55,36],[42,26,55,41],[42,27,55,42],[42,28,55,43],[43,4,56,19,"PASSED_DISTANCE"],[43,19,56,34],[43,22,56,37],[43,24,56,39],[43,25,56,40],[43,26,56,41],[44,4,57,10,"initialized"],[44,15,57,21],[44,18,57,24],[44,23,57,29],[45,4,59,2,"constructor"],[45,15,59,13,"constructor"],[45,16,59,13],[45,18,59,16],[46,6,60,4],[47,4,60,4],[49,4,63,2],[50,0,64,0],[51,0,65,0],[52,4,66,2],[52,10,66,16,"ensureInitialized"],[52,27,66,33,"ensureInitialized"],[52,28,66,33],[52,30,66,51],[53,6,67,4],[53,10,67,8],[53,14,67,12],[53,15,67,13,"initialized"],[53,26,67,24],[53,28,67,26],[55,6,69,4],[56,6,70,4],[56,12,70,10,"url"],[56,15,70,13],[56,18,70,16,"process"],[56,25,70,23],[56,26,70,24,"env"],[56,29,70,27],[56,30,70,28,"EXPO_PUBLIC_BACKEND_URL"],[56,53,70,51],[56,57,70,55],[56,95,70,93],[57,6,71,4],[57,10,71,8],[57,11,71,9,"backendUrl"],[57,21,71,19],[57,24,71,22,"url"],[57,27,71,25],[57,28,71,26,"endsWith"],[57,36,71,34],[57,37,71,35],[57,40,71,38],[57,41,71,39],[57,44,71,42,"url"],[57,47,71,45],[57,50,71,48,"url"],[57,53,71,51],[57,56,71,54],[57,59,71,57],[58,6,72,4,"console"],[58,13,72,11],[58,14,72,12,"log"],[58,17,72,15],[58,18,72,16],[58,60,72,58],[58,62,72,60],[58,66,72,64],[58,67,72,65,"backendUrl"],[58,77,72,75],[58,78,72,76],[60,6,74,4],[61,6,75,4],[61,12,75,10],[61,16,75,14],[61,17,75,15,"loadDriverReactions"],[61,36,75,34],[61,37,75,35],[61,38,75,36],[62,6,77,4],[62,10,77,8],[62,11,77,9,"initialized"],[62,22,77,20],[62,25,77,23],[62,29,77,27],[63,4,78,2],[65,4,80,2],[66,0,81,0],[67,0,82,0],[68,4,83,2],[68,10,83,8,"fetchNearbyObstacles"],[68,30,83,28,"fetchNearbyObstacles"],[68,31,84,4,"latitude"],[68,39,84,20],[68,41,85,4,"longitude"],[68,50,85,21],[68,52,86,4,"radius"],[68,58,86,18],[68,61,86,21],[68,65,86,25],[68,67,87,4,"minConfirmations"],[68,83,87,28],[68,86,87,31],[68,87,87,32],[68,89,88,25],[69,6,89,4],[69,10,89,8],[70,8,90,6],[71,8,91,6],[71,14,91,12],[71,18,91,16],[71,19,91,17,"ensureInitialized"],[71,36,91,34],[71,37,91,35],[71,38,91,36],[73,8,93,6],[74,8,94,6],[74,14,94,12,"now"],[74,17,94,15],[74,20,94,18,"Date"],[74,24,94,22],[74,25,94,23,"now"],[74,28,94,26],[74,29,94,27],[74,30,94,28],[75,8,95,6],[75,12,95,10,"now"],[75,15,95,13],[75,18,95,16],[75,22,95,20],[75,23,95,21,"lastFetchTime"],[75,36,95,34],[75,39,95,37],[75,43,95,41],[75,44,95,42,"CACHE_DURATION"],[75,58,95,56],[75,62,95,60],[75,66,95,64],[75,67,95,65,"cachedObstacles"],[75,82,95,80],[75,83,95,81,"length"],[75,89,95,87],[75,92,95,90],[75,93,95,91],[75,95,95,93],[76,10,96,8,"console"],[76,17,96,15],[76,18,96,16,"log"],[76,21,96,19],[76,22,96,20],[76,50,96,48],[76,52,96,50],[76,56,96,54],[76,57,96,55,"cachedObstacles"],[76,72,96,70],[76,73,96,71,"length"],[76,79,96,77],[76,80,96,78],[77,10,97,8],[77,17,97,15],[77,21,97,19],[77,22,97,20,"filterActiveObstacles"],[77,43,97,41],[77,44,97,42],[77,48,97,46],[77,49,97,47,"cachedObstacles"],[77,64,97,62],[77,66,97,64,"latitude"],[77,74,97,72],[77,76,97,74,"longitude"],[77,85,97,83],[77,86,97,84],[78,8,98,6],[80,8,100,6],[81,8,101,6],[81,14,101,12,"url"],[81,17,101,15],[81,20,101,18],[81,23,101,21],[81,27,101,25],[81,28,101,26,"backendUrl"],[81,38,101,36],[81,71,101,69,"latitude"],[81,79,101,77],[81,93,101,91,"longitude"],[81,102,101,100],[81,113,101,111,"radius"],[81,119,101,117],[81,141,101,139,"minConfirmations"],[81,157,101,155],[81,159,101,157],[82,8,102,6,"console"],[82,15,102,13],[82,16,102,14,"log"],[82,19,102,17],[82,20,102,18],[82,49,102,47],[82,51,102,49,"url"],[82,54,102,52],[82,55,102,53],[83,8,104,6],[83,14,104,12,"response"],[83,22,104,20],[83,25,104,23],[83,31,104,29,"fetch"],[83,36,104,34],[83,37,104,35,"url"],[83,40,104,38],[83,42,104,40],[84,10,105,8,"method"],[84,16,105,14],[84,18,105,16],[84,23,105,21],[85,10,106,8,"headers"],[85,17,106,15],[85,19,106,17],[86,12,107,10],[86,26,107,24],[86,28,107,26],[87,10,108,8],[88,8,109,6],[88,9,109,7],[88,10,109,8],[89,8,111,6],[89,12,111,10],[89,13,111,11,"response"],[89,21,111,19],[89,22,111,20,"ok"],[89,24,111,22],[89,26,111,24],[90,10,112,8],[90,16,112,14],[90,20,112,18,"Error"],[90,25,112,23],[90,26,112,24],[90,34,112,32,"response"],[90,42,112,40],[90,43,112,41,"status"],[90,49,112,47],[90,54,112,52,"response"],[90,62,112,60],[90,63,112,61,"statusText"],[90,73,112,71],[90,75,112,73],[90,76,112,74],[91,8,113,6],[92,8,115,6],[92,14,115,12,"data"],[92,18,115,35],[92,21,115,38],[92,27,115,44,"response"],[92,35,115,52],[92,36,115,53,"json"],[92,40,115,57],[92,41,115,58],[92,42,115,59],[93,8,117,6],[93,12,117,10],[93,13,117,11,"cachedObstacles"],[93,28,117,26],[93,31,117,29,"data"],[93,35,117,33],[93,36,117,34,"obstacles"],[93,45,117,43],[94,8,118,6],[94,12,118,10],[94,13,118,11,"lastFetchTime"],[94,26,118,24],[94,29,118,27,"now"],[94,32,118,30],[95,8,120,6,"console"],[95,15,120,13],[95,16,120,14,"log"],[95,19,120,17],[95,20,120,18],[95,33,120,31,"data"],[95,37,120,35],[95,38,120,36,"total"],[95,43,120,41],[95,55,120,53],[95,56,120,54],[96,8,122,6],[96,15,122,13],[96,19,122,17],[96,20,122,18,"filterActiveObstacles"],[96,41,122,39],[96,42,122,40,"data"],[96,46,122,44],[96,47,122,45,"obstacles"],[96,56,122,54],[96,58,122,56,"latitude"],[96,66,122,64],[96,68,122,66,"longitude"],[96,77,122,75],[96,78,122,76],[97,6,123,4],[97,7,123,5],[97,8,123,6],[97,15,123,13,"error"],[97,20,123,18],[97,22,123,20],[98,8,124,6,"console"],[98,15,124,13],[98,16,124,14,"error"],[98,21,124,19],[98,22,124,20],[98,51,124,49],[98,53,124,51,"error"],[98,58,124,56],[98,59,124,57],[99,8,125,6],[100,8,126,6],[100,15,126,13],[100,19,126,17],[100,20,126,18,"filterActiveObstacles"],[100,41,126,39],[100,42,126,40],[100,46,126,44],[100,47,126,45,"cachedObstacles"],[100,62,126,60],[100,64,126,62,"latitude"],[100,72,126,70],[100,74,126,72,"longitude"],[100,83,126,81],[100,84,126,82],[101,6,127,4],[102,4,128,2],[104,4,130,2],[105,0,131,0],[106,0,132,0],[107,4,133,10,"filterActiveObstacles"],[107,25,133,31,"filterActiveObstacles"],[107,26,133,32,"obstacles"],[107,35,133,53],[107,37,133,55,"currentLat"],[107,47,133,73],[107,49,133,75,"currentLon"],[107,59,133,93],[107,61,133,107],[108,6,134,4],[108,13,134,11,"obstacles"],[108,22,134,20],[108,23,134,21,"filter"],[108,29,134,27],[108,30,134,28,"obstacle"],[108,38,134,36],[108,42,134,40],[109,8,135,6],[110,8,136,6],[110,12,136,10],[110,16,136,14],[110,17,136,15,"passedObstacles"],[110,32,136,30],[110,33,136,31,"has"],[110,36,136,34],[110,37,136,35,"obstacle"],[110,45,136,43],[110,46,136,44,"id"],[110,48,136,46],[110,49,136,47],[110,51,136,49],[111,10,137,8],[111,17,137,15],[111,22,137,20],[112,8,138,6],[114,8,140,6],[115,8,141,6],[115,12,141,10,"obstacle"],[115,20,141,18],[115,21,141,19,"distance"],[115,29,141,27],[115,32,141,30],[115,36,141,34],[115,37,141,35,"PASSED_DISTANCE"],[115,52,141,50],[115,54,141,52],[116,10,142,8],[116,14,142,12],[116,15,142,13,"markAsPassed"],[116,27,142,25],[116,28,142,26,"obstacle"],[116,36,142,34],[116,37,142,35,"id"],[116,39,142,37],[116,40,142,38],[117,10,143,8],[117,17,143,15],[117,22,143,20],[118,8,144,6],[119,8,146,6],[119,15,146,13],[119,19,146,17],[120,6,147,4],[120,7,147,5],[120,8,147,6],[121,4,148,2],[123,4,150,2],[124,0,151,0],[125,0,152,0],[126,4,153,2,"getClosestObstacle"],[126,22,153,20,"getClosestObstacle"],[126,23,153,21,"obstacles"],[126,32,153,42],[126,34,153,61],[127,6,154,4],[127,10,154,8,"obstacles"],[127,19,154,17],[127,20,154,18,"length"],[127,26,154,24],[127,31,154,29],[127,32,154,30],[127,34,154,32],[127,41,154,39],[127,45,154,43],[129,6,156,4],[130,6,157,4],[130,13,157,11,"obstacles"],[130,22,157,20],[130,23,157,21,"reduce"],[130,29,157,27],[130,30,157,28],[130,31,157,29,"closest"],[130,38,157,36],[130,40,157,38,"current"],[130,47,157,45],[130,52,157,50],[131,8,158,6],[131,15,158,13,"current"],[131,22,158,20],[131,23,158,21,"distance"],[131,31,158,29],[131,34,158,32,"closest"],[131,41,158,39],[131,42,158,40,"distance"],[131,50,158,48],[131,53,158,51,"current"],[131,60,158,58],[131,63,158,61,"closest"],[131,70,158,68],[132,6,159,4],[132,7,159,5],[132,8,159,6],[133,4,160,2],[135,4,162,2],[136,0,163,0],[137,0,164,0],[138,4,165,2,"getAlertsForDistance"],[138,24,165,22,"getAlertsForDistance"],[138,25,165,23,"obstacles"],[138,34,165,44],[138,36,165,58],[139,6,166,4],[140,6,167,4],[140,12,167,10,"alertDistances"],[140,26,167,24],[140,29,167,27],[140,33,167,31],[140,34,167,32,"calculateAlertDistances"],[140,57,167,55],[140,58,167,56],[140,59,167,57],[141,6,169,4],[141,13,169,11,"obstacles"],[141,22,169,20],[141,23,169,21,"filter"],[141,29,169,27],[141,30,169,28,"obstacle"],[141,38,169,36],[141,42,169,40],[142,8,170,6],[142,14,170,12,"alertDistance"],[142,27,170,25],[142,30,170,28,"alertDistances"],[142,44,170,42],[142,45,170,43,"obstacle"],[142,53,170,51],[142,54,170,52,"type"],[142,58,170,56],[142,59,170,57],[142,63,170,61],[142,66,170,64],[143,8,171,6],[143,15,171,13,"obstacle"],[143,23,171,21],[143,24,171,22,"distance"],[143,32,171,30],[143,36,171,34,"alertDistance"],[143,49,171,47],[143,53,171,51,"obstacle"],[143,61,171,59],[143,62,171,60,"distance"],[143,70,171,68],[143,73,171,71],[143,77,171,75],[143,78,171,76,"PASSED_DISTANCE"],[143,93,171,91],[144,6,172,4],[144,7,172,5],[144,8,172,6],[145,4,173,2],[147,4,175,2],[148,0,176,0],[149,0,177,0],[150,4,178,10,"calculateAlertDistances"],[150,27,178,33,"calculateAlertDistances"],[150,28,178,33],[150,30,178,60],[151,6,179,4],[151,12,179,10,"defaults"],[151,20,179,42],[151,23,179,45],[152,8,180,6,"pothole"],[152,15,180,13],[152,17,180,15],[152,20,180,18],[153,8,181,6,"speed_bump"],[153,18,181,16],[153,20,181,18],[153,23,181,21],[154,8,182,6,"bump"],[154,12,182,10],[154,14,182,12],[154,17,182,15],[155,8,183,6,"braking"],[155,15,183,13],[155,17,183,15],[155,20,183,18],[156,8,184,6,"vibration"],[156,17,184,15],[156,19,184,17],[156,22,184,20],[157,8,185,6,"accident"],[157,16,185,14],[157,18,185,16],[158,6,186,4],[158,7,186,5],[160,6,188,4],[161,6,189,4],[161,12,189,10,"recentReactions"],[161,27,189,25],[161,30,189,28],[161,34,189,32],[161,35,189,33,"driverReactions"],[161,50,189,48],[161,51,189,49,"slice"],[161,56,189,54],[161,57,189,55],[161,58,189,56],[161,61,189,59],[161,62,189,60],[162,6,191,4],[162,11,191,9],[162,17,191,15,"reaction"],[162,25,191,23],[162,29,191,27,"recentReactions"],[162,44,191,42],[162,46,191,44],[163,8,192,6],[163,14,192,12,"type"],[163,18,192,16],[163,21,192,19,"reaction"],[163,29,192,27],[163,30,192,28,"obstacleType"],[163,42,192,40],[164,8,194,6],[164,12,194,10,"reaction"],[164,20,194,18],[164,21,194,19,"action"],[164,27,194,25],[164,32,194,30],[164,43,194,41],[164,45,194,43],[165,10,195,8],[166,10,196,8,"defaults"],[166,18,196,16],[166,19,196,17,"type"],[166,23,196,21],[166,24,196,22],[166,27,196,25,"Math"],[166,31,196,29],[166,32,196,30,"min"],[166,35,196,33],[166,36,196,34,"defaults"],[166,44,196,42],[166,45,196,43,"type"],[166,49,196,47],[166,50,196,48],[166,53,196,51],[166,55,196,53],[166,57,196,55],[166,61,196,59],[166,62,196,60],[167,8,197,6],[167,9,197,7],[167,15,197,13],[167,19,197,17,"reaction"],[167,27,197,25],[167,28,197,26,"action"],[167,34,197,32],[167,39,197,37],[167,50,197,48],[167,52,197,50],[168,10,198,8],[169,10,199,8,"defaults"],[169,18,199,16],[169,19,199,17,"type"],[169,23,199,21],[169,24,199,22],[169,27,199,25,"Math"],[169,31,199,29],[169,32,199,30,"max"],[169,35,199,33],[169,36,199,34,"defaults"],[169,44,199,42],[169,45,199,43,"type"],[169,49,199,47],[169,50,199,48],[169,53,199,51],[169,55,199,53],[169,57,199,55],[169,60,199,58],[169,61,199,59],[170,8,200,6],[171,6,201,4],[172,6,203,4],[172,13,203,11,"defaults"],[172,21,203,19],[173,4,204,2],[175,4,206,2],[176,0,207,0],[177,0,208,0],[178,4,209,2],[178,10,209,8,"recordDriverReaction"],[178,30,209,28,"recordDriverReaction"],[178,31,210,4,"obstacle"],[178,39,210,22],[178,41,211,4,"action"],[178,47,211,49],[178,49,212,19],[179,6,213,4],[179,12,213,10,"reaction"],[179,20,213,34],[179,23,213,37],[180,8,214,6,"obstacleId"],[180,18,214,16],[180,20,214,18,"obstacle"],[180,28,214,26],[180,29,214,27,"id"],[180,31,214,29],[181,8,215,6,"obstacleType"],[181,20,215,18],[181,22,215,20,"obstacle"],[181,30,215,28],[181,31,215,29,"type"],[181,35,215,33],[182,8,216,6,"action"],[182,14,216,12],[183,8,217,6,"timestamp"],[183,17,217,15],[183,19,217,17],[183,23,217,21,"Date"],[183,27,217,25],[183,28,217,26],[183,29,217,27],[183,30,217,28,"toISOString"],[183,41,217,39],[183,42,217,40],[183,43,217,41],[184,8,218,6,"distance"],[184,16,218,14],[184,18,218,16,"obstacle"],[184,26,218,24],[184,27,218,25,"distance"],[185,6,219,4],[185,7,219,5],[186,6,221,4],[186,10,221,8],[186,11,221,9,"driverReactions"],[186,26,221,24],[186,27,221,25,"push"],[186,31,221,29],[186,32,221,30,"reaction"],[186,40,221,38],[186,41,221,39],[188,6,223,4],[189,6,224,4],[189,10,224,8],[189,14,224,12],[189,15,224,13,"driverReactions"],[189,30,224,28],[189,31,224,29,"length"],[189,37,224,35],[189,40,224,38],[189,43,224,41],[189,45,224,43],[190,8,225,6],[190,12,225,10],[190,13,225,11,"driverReactions"],[190,28,225,26],[190,31,225,29],[190,35,225,33],[190,36,225,34,"driverReactions"],[190,51,225,49],[190,52,225,50,"slice"],[190,57,225,55],[190,58,225,56],[190,59,225,57],[190,62,225,60],[190,63,225,61],[191,6,226,4],[192,6,228,4],[192,12,228,10],[192,16,228,14],[192,17,228,15,"saveDriverReactions"],[192,36,228,34],[192,37,228,35],[192,38,228,36],[193,6,230,4,"console"],[193,13,230,11],[193,14,230,12,"log"],[193,17,230,15],[193,18,230,16],[193,50,230,48,"action"],[193,56,230,54],[193,64,230,62,"obstacle"],[193,72,230,70],[193,73,230,71,"type"],[193,77,230,75],[193,84,230,82,"obstacle"],[193,92,230,90],[193,93,230,91,"distance"],[193,101,230,99],[193,104,230,102],[193,105,230,103],[194,4,231,2],[196,4,233,2],[197,0,234,0],[198,0,235,0],[199,4,236,2,"markAsPassed"],[199,16,236,14,"markAsPassed"],[199,17,236,15,"obstacleId"],[199,27,236,33],[199,29,236,41],[200,6,237,4],[200,10,237,8],[200,11,237,9,"passedObstacles"],[200,26,237,24],[200,27,237,25,"add"],[200,30,237,28],[200,31,237,29,"obstacleId"],[200,41,237,39],[200,42,237,40],[201,6,238,4,"console"],[201,13,238,11],[201,14,238,12,"log"],[201,17,238,15],[201,18,238,16],[201,50,238,48,"obstacleId"],[201,60,238,58],[201,62,238,60],[201,63,238,61],[202,4,239,2],[204,4,241,2],[205,0,242,0],[206,0,243,0],[207,4,244,2,"clearPassedObstacles"],[207,24,244,22,"clearPassedObstacles"],[207,25,244,22],[207,27,244,31],[208,6,245,4],[208,10,245,8],[208,11,245,9,"passedObstacles"],[208,26,245,24],[208,27,245,25,"clear"],[208,32,245,30],[208,33,245,31],[208,34,245,32],[209,6,246,4,"console"],[209,13,246,11],[209,14,246,12,"log"],[209,17,246,15],[209,18,246,16],[209,47,246,45],[209,48,246,46],[210,4,247,2],[212,4,249,2],[213,0,250,0],[214,0,251,0],[215,4,252,2],[215,10,252,16,"saveDriverReactions"],[215,29,252,35,"saveDriverReactions"],[215,30,252,35],[215,32,252,53],[216,6,253,4],[216,10,253,8],[217,8,254,6],[217,14,254,12,"AsyncStorage"],[217,26,254,24],[217,27,254,24,"default"],[217,34,254,24],[217,35,254,25,"setItem"],[217,42,254,32],[217,43,255,8],[217,61,255,26],[217,63,256,8,"JSON"],[217,67,256,12],[217,68,256,13,"stringify"],[217,77,256,22],[217,78,256,23],[217,82,256,27],[217,83,256,28,"driverReactions"],[217,98,256,43],[217,99,257,6],[217,100,257,7],[218,6,258,4],[218,7,258,5],[218,8,258,6],[218,15,258,13,"error"],[218,20,258,18],[218,22,258,20],[219,8,259,6,"console"],[219,15,259,13],[219,16,259,14,"error"],[219,21,259,19],[219,22,259,20],[219,56,259,54],[219,58,259,56,"error"],[219,63,259,61],[219,64,259,62],[220,6,260,4],[221,4,261,2],[223,4,263,2],[224,0,264,0],[225,0,265,0],[226,4,266,2],[226,10,266,16,"loadDriverReactions"],[226,29,266,35,"loadDriverReactions"],[226,30,266,35],[226,32,266,53],[227,6,267,4],[227,10,267,8],[228,8,268,6],[228,14,268,12,"data"],[228,18,268,16],[228,21,268,19],[228,27,268,25,"AsyncStorage"],[228,39,268,37],[228,40,268,37,"default"],[228,47,268,37],[228,48,268,38,"getItem"],[228,55,268,45],[228,56,268,46],[228,74,268,64],[228,75,268,65],[229,8,269,6],[229,12,269,10,"data"],[229,16,269,14],[229,18,269,16],[230,10,270,8],[230,14,270,12],[230,15,270,13,"driverReactions"],[230,30,270,28],[230,33,270,31,"JSON"],[230,37,270,35],[230,38,270,36,"parse"],[230,43,270,41],[230,44,270,42,"data"],[230,48,270,46],[230,49,270,47],[231,10,271,8,"console"],[231,17,271,15],[231,18,271,16,"log"],[231,21,271,19],[231,22,271,20],[231,35,271,33],[231,39,271,37],[231,40,271,38,"driverReactions"],[231,55,271,53],[231,56,271,54,"length"],[231,62,271,60],[231,81,271,79],[231,82,271,80],[232,8,272,6],[233,6,273,4],[233,7,273,5],[233,8,273,6],[233,15,273,13,"error"],[233,20,273,18],[233,22,273,20],[234,8,274,6,"console"],[234,15,274,13],[234,16,274,14,"error"],[234,21,274,19],[234,22,274,20],[234,57,274,55],[234,59,274,57,"error"],[234,64,274,62],[234,65,274,63],[235,6,275,4],[236,4,276,2],[238,4,278,2],[239,0,279,0],[240,0,280,0],[241,4,281,2,"getAdaptationStats"],[241,22,281,20,"getAdaptationStats"],[241,23,281,20],[241,25,286,4],[242,6,287,4],[242,13,287,11],[243,8,288,6,"totalReactions"],[243,22,288,20],[243,24,288,22],[243,28,288,26],[243,29,288,27,"driverReactions"],[243,44,288,42],[243,45,288,43,"length"],[243,51,288,49],[244,8,289,6,"confirmed"],[244,17,289,15],[244,19,289,17],[244,23,289,21],[244,24,289,22,"driverReactions"],[244,39,289,37],[244,40,289,38,"filter"],[244,46,289,44],[244,47,289,45,"r"],[244,48,289,46],[244,52,289,50,"r"],[244,53,289,51],[244,54,289,52,"action"],[244,60,289,58],[244,65,289,63],[244,76,289,74],[244,77,289,75],[244,78,289,76,"length"],[244,84,289,82],[245,8,290,6,"dismissed"],[245,17,290,15],[245,19,290,17],[245,23,290,21],[245,24,290,22,"driverReactions"],[245,39,290,37],[245,40,290,38,"filter"],[245,46,290,44],[245,47,290,45,"r"],[245,48,290,46],[245,52,290,50,"r"],[245,53,290,51],[245,54,290,52,"action"],[245,60,290,58],[245,65,290,63],[245,76,290,74],[245,77,290,75],[245,78,290,76,"length"],[245,84,290,82],[246,8,291,6,"ignored"],[246,15,291,13],[246,17,291,15],[246,21,291,19],[246,22,291,20,"driverReactions"],[246,37,291,35],[246,38,291,36,"filter"],[246,44,291,42],[246,45,291,43,"r"],[246,46,291,44],[246,50,291,48,"r"],[246,51,291,49],[246,52,291,50,"action"],[246,58,291,56],[246,63,291,61],[246,72,291,70],[246,73,291,71],[246,74,291,72,"length"],[247,6,292,4],[247,7,292,5],[248,4,293,2],[250,4,295,2],[251,0,296,0],[252,0,297,0],[253,4,298,2,"getObstacleIcon"],[253,19,298,17,"getObstacleIcon"],[253,20,298,18,"type"],[253,24,298,30],[253,26,298,40],[254,6,299,4],[254,12,299,10,"icons"],[254,17,299,39],[254,20,299,42],[255,8,300,6,"pothole"],[255,15,300,13],[255,17,300,15],[255,22,300,20],[256,8,301,6,"speed_bump"],[256,18,301,16],[256,20,301,18],[256,24,301,22],[257,8,302,6,"bump"],[257,12,302,10],[257,14,302,12],[257,18,302,16],[258,8,303,6,"braking"],[258,15,303,13],[258,17,303,15],[258,21,303,19],[259,8,304,6,"vibration"],[259,17,304,15],[259,19,304,17],[259,23,304,21],[260,8,305,6,"accident"],[260,16,305,14],[260,18,305,16],[261,6,306,4],[261,7,306,5],[262,6,307,4],[262,13,307,11,"icons"],[262,18,307,16],[262,19,307,17,"type"],[262,23,307,21],[262,24,307,22],[262,28,307,26],[262,32,307,30],[263,4,308,2],[265,4,310,2],[266,0,311,0],[267,0,312,0],[268,4,313,2,"getSeverityColor"],[268,20,313,18,"getSeverityColor"],[268,21,313,19,"severity"],[268,29,313,35],[268,31,313,45],[269,6,314,4],[269,10,314,8,"severity"],[269,18,314,16],[269,22,314,20],[269,23,314,21],[269,25,314,23],[269,32,314,30],[269,41,314,39],[269,42,314,40],[269,43,314,41],[270,6,315,4],[270,10,315,8,"severity"],[270,18,315,16],[270,22,315,20],[270,23,315,21],[270,25,315,23],[270,32,315,30],[270,41,315,39],[270,42,315,40],[270,43,315,41],[271,6,316,4],[271,13,316,11],[271,22,316,20],[271,23,316,21],[271,24,316,22],[272,4,317,2],[273,2,318,0],[275,2,320,0],[276,2,321,7],[276,8,321,13,"obstacleService"],[276,23,321,28],[276,26,321,31],[276,30,321,35,"ObstacleService"],[276,45,321,50],[276,46,321,51],[276,47,321,52],[277,2,322,0],[277,6,322,0,"_default"],[277,14,322,0],[277,17,322,15,"obstacleService"],[277,32,322,30],[278,0,322,31],[278,3]],"functionMap":{"names":["<global>","ObstacleService","constructor","ensureInitialized","fetchNearbyObstacles","filterActiveObstacles","obstacles.filter$argument_0","getClosestObstacle","obstacles.reduce$argument_0","getAlertsForDistance","calculateAlertDistances","recordDriverReaction","markAsPassed","clearPassedObstacles","saveDriverReactions","loadDriverReactions","getAdaptationStats","driverReactions.filter$argument_0","getObstacleIcon","getSeverityColor"],"mappings":"AAA;ACgD;ECU;GDE;EEK;GFY;EGK;GH6C;EIK;4BCC;KDa;GJC;EMK;4BCI;KDE;GNC;EQK;4BHI;KGG;GRC;ESK;GT0B;EUK;GVsB;EWK;GXG;EYK;GZG;EaK;GbS;EcK;GdU;EeK;6CCQ,6BD;6CCC,6BD;2CCC,2BD;GfE;EiBK;GjBU;EkBK;GlBI;CDC"},"hasCjsExports":false},"type":"js/module"}]}