{"dependencies":[],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  /**\n   * EventDetector.ts\n   * \n   * Умная система детекции дорожных событий на основе данных акселерометра\n   * - Классификация событий (яма, торможение, вибрация)\n   * - Определение типа дороги (асфальт, грунт, гравий)\n   * - Адаптивные пороги на основе типа дороги и автомобиля\n   */\n\n  /**\n   * Типы событий\n   */\n\n  // Тестовая синхронизация\n  // 1=критичный, 5=нормальный\n\n  /**\n   * Пороговые значения для детекции событий\n   * Научно обоснованные на основе исследований качества дорог\n   */\n  const BASE_THRESHOLDS = {\n    // Вертикальная ось (Y) - основная для дорог\n    // ПОНИЖЕНЫ для лучшей детекции\n    pothole: {\n      critical: 3.5,\n      // > 3.5 m/s² - критичная яма (было 4.5)\n      high: 2.0,\n      // 2.0-3.5 m/s² - яма (было 3.0)\n      medium: 1.2,\n      // 1.2-2.0 m/s² - неровность (было 2.0)\n      low: 0.8 // 0.8-1.2 m/s² - мелкий дефект (было 1.5)\n    },\n    // Продольная ось (Z) - торможение/разгон\n    // ПОНИЖЕНЫ для лучшей детекции\n    braking: {\n      emergency: 2.0,\n      // > 2.0 m/s² - экстренное торможение (было 3.0)\n      sharp: 1.5,\n      // 1.5-2.0 m/s² - резкое торможение (было 2.5)\n      moderate: 1.0 // 1.0-1.5 m/s² - умеренное торможение (было 1.5)\n    },\n    // Поперечная ось (X) - боковые качания\n    // ПОНИЖЕНЫ для лучшей детекции\n    lateral: {\n      sharp: 1.5,\n      // > 1.5 m/s² - резкий маневр (было 2.5)\n      moderate: 0.8 // 0.8-1.5 m/s² - умеренное качание (было 1.5)\n    },\n    // Общая magnitude для комбинированных событий\n    // ПОНИЖЕНЫ для лучшей детекции\n    magnitude: {\n      critical: 3.5,\n      // > 3.5 m/s² - критичное событие (было 5.0)\n      high: 2.0,\n      // 2.0-3.5 m/s² - высокая интенсивность (было 4.0)\n      medium: 1.2,\n      // 1.2-2.0 m/s² - средняя интенсивность (было 3.0)\n      low: 0.6 // 0.6-1.2 m/s² - низкая интенсивность (новое)\n    }\n  };\n\n  /**\n   * Множители для разных типов дорог\n   */\n  const ROAD_TYPE_MULTIPLIERS = {\n    asphalt: 1.0,\n    // Стандартные пороги\n    gravel: 1.5,\n    // Гравий - больше допустимая вибрация\n    dirt: 1.8,\n    // Грунт - ещё больше вибрации\n    unknown: 1.2 // Неизвестно - осторожный подход\n  };\n\n  /**\n   * Множители для разных типов автомобилей\n   */\n  const VEHICLE_TYPE_MULTIPLIERS = {\n    sedan: 1.0,\n    // Легковой - мягкая подвеска, чувствительнее\n    crossover: 0.9,\n    // Кроссовер - средняя подвеска\n    suv: 0.8 // Внедорожник - жёсткая подвеска, менее чувствителен\n  };\n  class EventDetector {\n    previousData = null;\n    calibration = null;\n    detectedRoadType = 'unknown';\n    roadTypeHistory = []; // История вибраций для определения типа дороги\n\n    constructor(calibration) {\n      this.calibration = calibration || null;\n    }\n\n    /**\n     * Установить калибровочный профиль\n     */\n    setCalibration(calibration) {\n      this.calibration = calibration;\n    }\n\n    /**\n     * Основной метод обработки данных акселерометра\n     */\n    processAccelerometerData(data) {\n      // Первое чтение - сохраняем и выходим\n      if (!this.previousData) {\n        this.previousData = data;\n        return null;\n      }\n\n      // Вычисляем изменения (delta)\n      const deltaX = Math.abs(data.x - this.previousData.x);\n      const deltaY = Math.abs(data.y - this.previousData.y);\n      const deltaZ = Math.abs(data.z - this.previousData.z);\n\n      // Общая magnitude изменения\n      const magnitude = Math.sqrt(deltaX ** 2 + deltaY ** 2 + deltaZ ** 2);\n\n      // Обновляем историю для определения типа дороги\n      this.updateRoadTypeHistory(magnitude);\n      this.detectRoadType();\n\n      // Получаем адаптивные пороги\n      const thresholds = this.getAdaptiveThresholds();\n\n      // Классифицируем событие\n      const event = this.classifyEvent({\n        deltaX,\n        deltaY,\n        deltaZ,\n        magnitude,\n        thresholds,\n        data\n      });\n\n      // Обновляем предыдущие данные\n      this.previousData = data;\n      return event;\n    }\n\n    /**\n     * Обновить историю вибраций для определения типа дороги\n     */\n    updateRoadTypeHistory(magnitude) {\n      this.roadTypeHistory.push(magnitude);\n\n      // Храним только последние 100 измерений (примерно 2 секунды при 50Hz)\n      if (this.roadTypeHistory.length > 100) {\n        this.roadTypeHistory.shift();\n      }\n    }\n\n    /**\n     * Вычислить variance для последних N измерений (НОВОЕ - для ML)\n     * Variance показывает изменчивость accelerometer данных\n     */\n    calculateVariance(windowSize = 20) {\n      if (this.roadTypeHistory.length < windowSize) {\n        return 0;\n      }\n\n      // Берём последние windowSize измерений\n      const recentData = this.roadTypeHistory.slice(-windowSize);\n\n      // Средне значение\n      const mean = recentData.reduce((sum, val) => sum + val, 0) / recentData.length;\n\n      // Variance = среднее квадратов отклонений от среднего\n      const variance = recentData.reduce((sum, val) => {\n        const diff = val - mean;\n        return sum + diff * diff;\n      }, 0) / recentData.length;\n      return variance;\n    }\n\n    /**\n     * Автоматическое определение типа дороги\n     */\n    detectRoadType() {\n      if (this.roadTypeHistory.length < 50) {\n        return; // Недостаточно данных\n      }\n\n      // Вычисляем среднюю базовую вибрацию\n      const avgVibration = this.roadTypeHistory.reduce((sum, val) => sum + val, 0) / this.roadTypeHistory.length;\n\n      // Классификация на основе средней вибрации\n      if (avgVibration < 0.5) {\n        this.detectedRoadType = 'asphalt'; // Низкая вибрация = асфальт\n      } else if (avgVibration < 1.0) {\n        this.detectedRoadType = 'gravel'; // Средняя вибрация = гравий\n      } else {\n        this.detectedRoadType = 'dirt'; // Высокая вибрация = грунт\n      }\n    }\n\n    /**\n     * Получить адаптивные пороги с учётом типа дороги и автомобиля\n     */\n    getAdaptiveThresholds() {\n      const roadMultiplier = ROAD_TYPE_MULTIPLIERS[this.detectedRoadType];\n      const vehicleMultiplier = this.calibration ? VEHICLE_TYPE_MULTIPLIERS[this.calibration.vehicleType] : 1.0;\n      const calibrationMultiplier = this.calibration?.thresholdMultiplier || 1.0;\n      const totalMultiplier = roadMultiplier * vehicleMultiplier * calibrationMultiplier;\n\n      // Применяем множитель ко всем порогам\n      return {\n        pothole: {\n          critical: BASE_THRESHOLDS.pothole.critical * totalMultiplier,\n          high: BASE_THRESHOLDS.pothole.high * totalMultiplier,\n          medium: BASE_THRESHOLDS.pothole.medium * totalMultiplier,\n          low: BASE_THRESHOLDS.pothole.low * totalMultiplier\n        },\n        braking: {\n          emergency: BASE_THRESHOLDS.braking.emergency * totalMultiplier,\n          sharp: BASE_THRESHOLDS.braking.sharp * totalMultiplier,\n          moderate: BASE_THRESHOLDS.braking.moderate * totalMultiplier\n        },\n        lateral: {\n          sharp: BASE_THRESHOLDS.lateral.sharp * totalMultiplier,\n          moderate: BASE_THRESHOLDS.lateral.moderate * totalMultiplier\n        },\n        magnitude: {\n          critical: BASE_THRESHOLDS.magnitude.critical * totalMultiplier,\n          high: BASE_THRESHOLDS.magnitude.high * totalMultiplier,\n          medium: BASE_THRESHOLDS.magnitude.medium * totalMultiplier,\n          low: BASE_THRESHOLDS.magnitude.low * totalMultiplier\n        }\n      };\n    }\n\n    /**\n     * Классификация события на основе данных акселерометра\n     */\n    classifyEvent(params) {\n      const {\n        deltaX,\n        deltaY,\n        deltaZ,\n        magnitude,\n        thresholds,\n        data\n      } = params;\n      let eventType = 'normal';\n      let severity = 5;\n      let shouldNotifyUser = false;\n      let shouldSendImmediately = false;\n\n      // Проверка критичных событий (приоритет 1)\n      if (magnitude >= thresholds.magnitude.critical) {\n        eventType = 'pothole';\n        severity = 1;\n        shouldNotifyUser = true;\n        shouldSendImmediately = true;\n      }\n      // Проверка ям и неровностей (вертикальная ось Y)\n      else if (deltaY >= thresholds.pothole.critical) {\n        eventType = 'pothole';\n        severity = 1;\n        shouldNotifyUser = true;\n        shouldSendImmediately = true;\n      } else if (deltaY >= thresholds.pothole.high) {\n        eventType = 'pothole';\n        severity = 2;\n        shouldNotifyUser = true;\n        shouldSendImmediately = false;\n      } else if (deltaY >= thresholds.pothole.medium) {\n        eventType = 'bump';\n        severity = 3;\n      } else if (deltaY >= thresholds.pothole.low) {\n        eventType = 'vibration';\n        severity = 4;\n      }\n      // Проверка торможения (продольная ось Z)\n      else if (deltaZ >= thresholds.braking.emergency) {\n        eventType = 'braking';\n        severity = 1;\n        shouldNotifyUser = true;\n        shouldSendImmediately = true;\n      } else if (deltaZ >= thresholds.braking.sharp) {\n        eventType = 'braking';\n        severity = 2;\n      } else if (deltaZ >= thresholds.braking.moderate) {\n        eventType = 'braking';\n        severity = 3;\n      }\n      // Проверка боковых качаний (поперечная ось X)\n      else if (deltaX >= thresholds.lateral.sharp) {\n        eventType = 'vibration';\n        severity = 2;\n      } else if (deltaX >= thresholds.lateral.moderate) {\n        eventType = 'vibration';\n        severity = 3;\n      }\n\n      // Если нет значимых событий - возвращаем null\n      if (eventType === 'normal' && magnitude < 1.0) {\n        return null;\n      }\n\n      // Вычислить variance для ML (НОВОЕ)\n      const variance = this.calculateVariance(20);\n      return {\n        eventType,\n        severity,\n        timestamp: data.timestamp,\n        accelerometer: {\n          x: data.x,\n          y: data.y,\n          z: data.z,\n          magnitude,\n          deltaY,\n          deltaZ,\n          deltaX,\n          // НОВОЕ\n          variance // НОВОЕ - для ML анализа\n        },\n        roadType: this.detectedRoadType,\n        shouldNotifyUser,\n        shouldSendImmediately\n      };\n    }\n\n    /**\n     * Получить текущий тип дороги\n     */\n    getRoadType() {\n      return this.detectedRoadType;\n    }\n\n    /**\n     * Сбросить историю (например, при смене маршрута)\n     */\n    reset() {\n      this.previousData = null;\n      this.roadTypeHistory = [];\n      this.detectedRoadType = 'unknown';\n    }\n  }\n  var _default = EventDetector;\n});","lineCount":354,"map":[[7,2,387,0,"Object"],[7,8,387,0],[7,9,387,0,"defineProperty"],[7,23,387,0],[7,24,387,0,"exports"],[7,31,387,0],[8,4,387,0,"enumerable"],[8,14,387,0],[9,4,387,0,"get"],[9,7,387,0],[9,18,387,0,"get"],[9,19,387,0],[10,6,387,0],[10,13,387,0,"_default"],[10,21,387,0],[11,4,387,0],[12,2,387,0],[13,2,1,0],[14,0,2,0],[15,0,3,0],[16,0,4,0],[17,0,5,0],[18,0,6,0],[19,0,7,0],[20,0,8,0],[22,2,12,0],[23,0,13,0],[24,0,14,0],[26,2,22,18],[27,2,23,47],[29,2,59,0],[30,0,60,0],[31,0,61,0],[32,0,62,0],[33,2,63,0],[33,8,63,6,"BASE_THRESHOLDS"],[33,23,63,21],[33,26,63,24],[34,4,64,2],[35,4,65,2],[36,4,66,2,"pothole"],[36,11,66,9],[36,13,66,11],[37,6,67,4,"critical"],[37,14,67,12],[37,16,67,14],[37,19,67,17],[38,6,67,21],[39,6,68,4,"high"],[39,10,68,8],[39,12,68,10],[39,15,68,13],[40,6,68,21],[41,6,69,4,"medium"],[41,12,69,10],[41,14,69,12],[41,17,69,15],[42,6,69,21],[43,6,70,4,"low"],[43,9,70,7],[43,11,70,9],[43,14,70,12],[43,15,70,21],[44,4,71,2],[44,5,71,3],[45,4,73,2],[46,4,74,2],[47,4,75,2,"braking"],[47,11,75,9],[47,13,75,11],[48,6,76,4,"emergency"],[48,15,76,13],[48,17,76,15],[48,20,76,18],[49,6,76,21],[50,6,77,4,"sharp"],[50,11,77,9],[50,13,77,11],[50,16,77,14],[51,6,77,21],[52,6,78,4,"moderate"],[52,14,78,12],[52,16,78,14],[52,19,78,17],[52,20,78,21],[53,4,79,2],[53,5,79,3],[54,4,81,2],[55,4,82,2],[56,4,83,2,"lateral"],[56,11,83,9],[56,13,83,11],[57,6,84,4,"sharp"],[57,11,84,9],[57,13,84,11],[57,16,84,14],[58,6,84,21],[59,6,85,4,"moderate"],[59,14,85,12],[59,16,85,14],[59,19,85,17],[59,20,85,21],[60,4,86,2],[60,5,86,3],[61,4,88,2],[62,4,89,2],[63,4,90,2,"magnitude"],[63,13,90,11],[63,15,90,13],[64,6,91,4,"critical"],[64,14,91,12],[64,16,91,14],[64,19,91,17],[65,6,91,21],[66,6,92,4,"high"],[66,10,92,8],[66,12,92,10],[66,15,92,13],[67,6,92,21],[68,6,93,4,"medium"],[68,12,93,10],[68,14,93,12],[68,17,93,15],[69,6,93,21],[70,6,94,4,"low"],[70,9,94,7],[70,11,94,9],[70,14,94,12],[70,15,94,21],[71,4,95,2],[72,2,96,0],[72,3,96,1],[74,2,98,0],[75,0,99,0],[76,0,100,0],[77,2,101,0],[77,8,101,6,"ROAD_TYPE_MULTIPLIERS"],[77,29,101,53],[77,32,101,56],[78,4,102,2,"asphalt"],[78,11,102,9],[78,13,102,11],[78,16,102,14],[79,4,102,19],[80,4,103,2,"gravel"],[80,10,103,8],[80,12,103,10],[80,15,103,13],[81,4,103,19],[82,4,104,2,"dirt"],[82,8,104,6],[82,10,104,8],[82,13,104,11],[83,4,104,19],[84,4,105,2,"unknown"],[84,11,105,9],[84,13,105,11],[84,16,105,14],[84,17,105,19],[85,2,106,0],[85,3,106,1],[87,2,108,0],[88,0,109,0],[89,0,110,0],[90,2,111,0],[90,8,111,6,"VEHICLE_TYPE_MULTIPLIERS"],[90,32,111,59],[90,35,111,62],[91,4,112,2,"sedan"],[91,9,112,7],[91,11,112,9],[91,14,112,12],[92,4,112,19],[93,4,113,2,"crossover"],[93,13,113,11],[93,15,113,13],[93,18,113,16],[94,4,113,19],[95,4,114,2,"suv"],[95,7,114,5],[95,9,114,7],[95,12,114,10],[95,13,114,19],[96,2,115,0],[96,3,115,1],[97,2,117,0],[97,8,117,6,"EventDetector"],[97,21,117,19],[97,22,117,20],[98,4,118,10,"previousData"],[98,16,118,22],[98,19,118,51],[98,23,118,55],[99,4,119,10,"calibration"],[99,15,119,21],[99,18,119,51],[99,22,119,55],[100,4,120,10,"detectedRoadType"],[100,20,120,26],[100,23,120,39],[100,32,120,48],[101,4,121,10,"roadTypeHistory"],[101,19,121,25],[101,22,121,38],[101,24,121,40],[101,25,121,41],[101,26,121,42],[103,4,123,2,"constructor"],[103,15,123,13,"constructor"],[103,16,123,14,"calibration"],[103,27,123,46],[103,29,123,48],[104,6,124,4],[104,10,124,8],[104,11,124,9,"calibration"],[104,22,124,20],[104,25,124,23,"calibration"],[104,36,124,34],[104,40,124,38],[104,44,124,42],[105,4,125,2],[107,4,127,2],[108,0,128,0],[109,0,129,0],[110,4,130,2,"setCalibration"],[110,18,130,16,"setCalibration"],[110,19,130,17,"calibration"],[110,30,130,48],[110,32,130,50],[111,6,131,4],[111,10,131,8],[111,11,131,9,"calibration"],[111,22,131,20],[111,25,131,23,"calibration"],[111,36,131,34],[112,4,132,2],[114,4,134,2],[115,0,135,0],[116,0,136,0],[117,4,137,2,"processAccelerometerData"],[117,28,137,26,"processAccelerometerData"],[117,29,137,27,"data"],[117,33,137,50],[117,35,137,74],[118,6,138,4],[119,6,139,4],[119,10,139,8],[119,11,139,9],[119,15,139,13],[119,16,139,14,"previousData"],[119,28,139,26],[119,30,139,28],[120,8,140,6],[120,12,140,10],[120,13,140,11,"previousData"],[120,25,140,23],[120,28,140,26,"data"],[120,32,140,30],[121,8,141,6],[121,15,141,13],[121,19,141,17],[122,6,142,4],[124,6,144,4],[125,6,145,4],[125,12,145,10,"deltaX"],[125,18,145,16],[125,21,145,19,"Math"],[125,25,145,23],[125,26,145,24,"abs"],[125,29,145,27],[125,30,145,28,"data"],[125,34,145,32],[125,35,145,33,"x"],[125,36,145,34],[125,39,145,37],[125,43,145,41],[125,44,145,42,"previousData"],[125,56,145,54],[125,57,145,55,"x"],[125,58,145,56],[125,59,145,57],[126,6,146,4],[126,12,146,10,"deltaY"],[126,18,146,16],[126,21,146,19,"Math"],[126,25,146,23],[126,26,146,24,"abs"],[126,29,146,27],[126,30,146,28,"data"],[126,34,146,32],[126,35,146,33,"y"],[126,36,146,34],[126,39,146,37],[126,43,146,41],[126,44,146,42,"previousData"],[126,56,146,54],[126,57,146,55,"y"],[126,58,146,56],[126,59,146,57],[127,6,147,4],[127,12,147,10,"deltaZ"],[127,18,147,16],[127,21,147,19,"Math"],[127,25,147,23],[127,26,147,24,"abs"],[127,29,147,27],[127,30,147,28,"data"],[127,34,147,32],[127,35,147,33,"z"],[127,36,147,34],[127,39,147,37],[127,43,147,41],[127,44,147,42,"previousData"],[127,56,147,54],[127,57,147,55,"z"],[127,58,147,56],[127,59,147,57],[129,6,149,4],[130,6,150,4],[130,12,150,10,"magnitude"],[130,21,150,19],[130,24,150,22,"Math"],[130,28,150,26],[130,29,150,27,"sqrt"],[130,33,150,31],[130,34,150,32,"deltaX"],[130,40,150,38],[130,44,150,42],[130,45,150,43],[130,48,150,46,"deltaY"],[130,54,150,52],[130,58,150,56],[130,59,150,57],[130,62,150,60,"deltaZ"],[130,68,150,66],[130,72,150,70],[130,73,150,71],[130,74,150,72],[132,6,152,4],[133,6,153,4],[133,10,153,8],[133,11,153,9,"updateRoadTypeHistory"],[133,32,153,30],[133,33,153,31,"magnitude"],[133,42,153,40],[133,43,153,41],[134,6,154,4],[134,10,154,8],[134,11,154,9,"detectRoadType"],[134,25,154,23],[134,26,154,24],[134,27,154,25],[136,6,156,4],[137,6,157,4],[137,12,157,10,"thresholds"],[137,22,157,20],[137,25,157,23],[137,29,157,27],[137,30,157,28,"getAdaptiveThresholds"],[137,51,157,49],[137,52,157,50],[137,53,157,51],[139,6,159,4],[140,6,160,4],[140,12,160,10,"event"],[140,17,160,15],[140,20,160,18],[140,24,160,22],[140,25,160,23,"classifyEvent"],[140,38,160,36],[140,39,160,37],[141,8,161,6,"deltaX"],[141,14,161,12],[142,8,162,6,"deltaY"],[142,14,162,12],[143,8,163,6,"deltaZ"],[143,14,163,12],[144,8,164,6,"magnitude"],[144,17,164,15],[145,8,165,6,"thresholds"],[145,18,165,16],[146,8,166,6,"data"],[147,6,167,4],[147,7,167,5],[147,8,167,6],[149,6,169,4],[150,6,170,4],[150,10,170,8],[150,11,170,9,"previousData"],[150,23,170,21],[150,26,170,24,"data"],[150,30,170,28],[151,6,172,4],[151,13,172,11,"event"],[151,18,172,16],[152,4,173,2],[154,4,175,2],[155,0,176,0],[156,0,177,0],[157,4,178,10,"updateRoadTypeHistory"],[157,25,178,31,"updateRoadTypeHistory"],[157,26,178,32,"magnitude"],[157,35,178,49],[157,37,178,51],[158,6,179,4],[158,10,179,8],[158,11,179,9,"roadTypeHistory"],[158,26,179,24],[158,27,179,25,"push"],[158,31,179,29],[158,32,179,30,"magnitude"],[158,41,179,39],[158,42,179,40],[160,6,181,4],[161,6,182,4],[161,10,182,8],[161,14,182,12],[161,15,182,13,"roadTypeHistory"],[161,30,182,28],[161,31,182,29,"length"],[161,37,182,35],[161,40,182,38],[161,43,182,41],[161,45,182,43],[162,8,183,6],[162,12,183,10],[162,13,183,11,"roadTypeHistory"],[162,28,183,26],[162,29,183,27,"shift"],[162,34,183,32],[162,35,183,33],[162,36,183,34],[163,6,184,4],[164,4,185,2],[166,4,187,2],[167,0,188,0],[168,0,189,0],[169,0,190,0],[170,4,191,10,"calculateVariance"],[170,21,191,27,"calculateVariance"],[170,22,191,28,"windowSize"],[170,32,191,46],[170,35,191,49],[170,37,191,51],[170,39,191,61],[171,6,192,4],[171,10,192,8],[171,14,192,12],[171,15,192,13,"roadTypeHistory"],[171,30,192,28],[171,31,192,29,"length"],[171,37,192,35],[171,40,192,38,"windowSize"],[171,50,192,48],[171,52,192,50],[172,8,193,6],[172,15,193,13],[172,16,193,14],[173,6,194,4],[175,6,196,4],[176,6,197,4],[176,12,197,10,"recentData"],[176,22,197,20],[176,25,197,23],[176,29,197,27],[176,30,197,28,"roadTypeHistory"],[176,45,197,43],[176,46,197,44,"slice"],[176,51,197,49],[176,52,197,50],[176,53,197,51,"windowSize"],[176,63,197,61],[176,64,197,62],[178,6,199,4],[179,6,200,4],[179,12,200,10,"mean"],[179,16,200,14],[179,19,200,17,"recentData"],[179,29,200,27],[179,30,200,28,"reduce"],[179,36,200,34],[179,37,200,35],[179,38,200,36,"sum"],[179,41,200,39],[179,43,200,41,"val"],[179,46,200,44],[179,51,200,49,"sum"],[179,54,200,52],[179,57,200,55,"val"],[179,60,200,58],[179,62,200,60],[179,63,200,61],[179,64,200,62],[179,67,200,65,"recentData"],[179,77,200,75],[179,78,200,76,"length"],[179,84,200,82],[181,6,202,4],[182,6,203,4],[182,12,203,10,"variance"],[182,20,203,18],[182,23,203,21,"recentData"],[182,33,203,31],[182,34,203,32,"reduce"],[182,40,203,38],[182,41,203,39],[182,42,203,40,"sum"],[182,45,203,43],[182,47,203,45,"val"],[182,50,203,48],[182,55,203,53],[183,8,204,6],[183,14,204,12,"diff"],[183,18,204,16],[183,21,204,19,"val"],[183,24,204,22],[183,27,204,25,"mean"],[183,31,204,29],[184,8,205,6],[184,15,205,13,"sum"],[184,18,205,16],[184,21,205,20,"diff"],[184,25,205,24],[184,28,205,27,"diff"],[184,32,205,32],[185,6,206,4],[185,7,206,5],[185,9,206,7],[185,10,206,8],[185,11,206,9],[185,14,206,12,"recentData"],[185,24,206,22],[185,25,206,23,"length"],[185,31,206,29],[186,6,208,4],[186,13,208,11,"variance"],[186,21,208,19],[187,4,209,2],[189,4,211,2],[190,0,212,0],[191,0,213,0],[192,4,214,10,"detectRoadType"],[192,18,214,24,"detectRoadType"],[192,19,214,24],[192,21,214,27],[193,6,215,4],[193,10,215,8],[193,14,215,12],[193,15,215,13,"roadTypeHistory"],[193,30,215,28],[193,31,215,29,"length"],[193,37,215,35],[193,40,215,38],[193,42,215,40],[193,44,215,42],[194,8,216,6],[194,15,216,13],[194,16,216,14],[195,6,217,4],[197,6,219,4],[198,6,220,4],[198,12,220,10,"avgVibration"],[198,24,220,22],[198,27,220,25],[198,31,220,29],[198,32,220,30,"roadTypeHistory"],[198,47,220,45],[198,48,220,46,"reduce"],[198,54,220,52],[198,55,220,53],[198,56,220,54,"sum"],[198,59,220,57],[198,61,220,59,"val"],[198,64,220,62],[198,69,220,67,"sum"],[198,72,220,70],[198,75,220,73,"val"],[198,78,220,76],[198,80,220,78],[198,81,220,79],[198,82,220,80],[198,85,220,83],[198,89,220,87],[198,90,220,88,"roadTypeHistory"],[198,105,220,103],[198,106,220,104,"length"],[198,112,220,110],[200,6,222,4],[201,6,223,4],[201,10,223,8,"avgVibration"],[201,22,223,20],[201,25,223,23],[201,28,223,26],[201,30,223,28],[202,8,224,6],[202,12,224,10],[202,13,224,11,"detectedRoadType"],[202,29,224,27],[202,32,224,30],[202,41,224,39],[202,42,224,40],[202,43,224,41],[203,6,225,4],[203,7,225,5],[203,13,225,11],[203,17,225,15,"avgVibration"],[203,29,225,27],[203,32,225,30],[203,35,225,33],[203,37,225,35],[204,8,226,6],[204,12,226,10],[204,13,226,11,"detectedRoadType"],[204,29,226,27],[204,32,226,30],[204,40,226,38],[204,41,226,39],[204,42,226,40],[205,6,227,4],[205,7,227,5],[205,13,227,11],[206,8,228,6],[206,12,228,10],[206,13,228,11,"detectedRoadType"],[206,29,228,27],[206,32,228,30],[206,38,228,36],[206,39,228,37],[206,40,228,38],[207,6,229,4],[208,4,230,2],[210,4,232,2],[211,0,233,0],[212,0,234,0],[213,4,235,10,"getAdaptiveThresholds"],[213,25,235,31,"getAdaptiveThresholds"],[213,26,235,31],[213,28,235,34],[214,6,236,4],[214,12,236,10,"roadMultiplier"],[214,26,236,24],[214,29,236,27,"ROAD_TYPE_MULTIPLIERS"],[214,50,236,48],[214,51,236,49],[214,55,236,53],[214,56,236,54,"detectedRoadType"],[214,72,236,70],[214,73,236,71],[215,6,237,4],[215,12,237,10,"vehicleMultiplier"],[215,29,237,27],[215,32,237,30],[215,36,237,34],[215,37,237,35,"calibration"],[215,48,237,46],[215,51,238,8,"VEHICLE_TYPE_MULTIPLIERS"],[215,75,238,32],[215,76,238,33],[215,80,238,37],[215,81,238,38,"calibration"],[215,92,238,49],[215,93,238,50,"vehicleType"],[215,104,238,61],[215,105,238,62],[215,108,239,8],[215,111,239,11],[216,6,241,4],[216,12,241,10,"calibrationMultiplier"],[216,33,241,31],[216,36,241,34],[216,40,241,38],[216,41,241,39,"calibration"],[216,52,241,50],[216,54,241,52,"thresholdMultiplier"],[216,73,241,71],[216,77,241,75],[216,80,241,78],[217,6,243,4],[217,12,243,10,"totalMultiplier"],[217,27,243,25],[217,30,243,28,"roadMultiplier"],[217,44,243,42],[217,47,243,45,"vehicleMultiplier"],[217,64,243,62],[217,67,243,65,"calibrationMultiplier"],[217,88,243,86],[219,6,245,4],[220,6,246,4],[220,13,246,11],[221,8,247,6,"pothole"],[221,15,247,13],[221,17,247,15],[222,10,248,8,"critical"],[222,18,248,16],[222,20,248,18,"BASE_THRESHOLDS"],[222,35,248,33],[222,36,248,34,"pothole"],[222,43,248,41],[222,44,248,42,"critical"],[222,52,248,50],[222,55,248,53,"totalMultiplier"],[222,70,248,68],[223,10,249,8,"high"],[223,14,249,12],[223,16,249,14,"BASE_THRESHOLDS"],[223,31,249,29],[223,32,249,30,"pothole"],[223,39,249,37],[223,40,249,38,"high"],[223,44,249,42],[223,47,249,45,"totalMultiplier"],[223,62,249,60],[224,10,250,8,"medium"],[224,16,250,14],[224,18,250,16,"BASE_THRESHOLDS"],[224,33,250,31],[224,34,250,32,"pothole"],[224,41,250,39],[224,42,250,40,"medium"],[224,48,250,46],[224,51,250,49,"totalMultiplier"],[224,66,250,64],[225,10,251,8,"low"],[225,13,251,11],[225,15,251,13,"BASE_THRESHOLDS"],[225,30,251,28],[225,31,251,29,"pothole"],[225,38,251,36],[225,39,251,37,"low"],[225,42,251,40],[225,45,251,43,"totalMultiplier"],[226,8,252,6],[226,9,252,7],[227,8,253,6,"braking"],[227,15,253,13],[227,17,253,15],[228,10,254,8,"emergency"],[228,19,254,17],[228,21,254,19,"BASE_THRESHOLDS"],[228,36,254,34],[228,37,254,35,"braking"],[228,44,254,42],[228,45,254,43,"emergency"],[228,54,254,52],[228,57,254,55,"totalMultiplier"],[228,72,254,70],[229,10,255,8,"sharp"],[229,15,255,13],[229,17,255,15,"BASE_THRESHOLDS"],[229,32,255,30],[229,33,255,31,"braking"],[229,40,255,38],[229,41,255,39,"sharp"],[229,46,255,44],[229,49,255,47,"totalMultiplier"],[229,64,255,62],[230,10,256,8,"moderate"],[230,18,256,16],[230,20,256,18,"BASE_THRESHOLDS"],[230,35,256,33],[230,36,256,34,"braking"],[230,43,256,41],[230,44,256,42,"moderate"],[230,52,256,50],[230,55,256,53,"totalMultiplier"],[231,8,257,6],[231,9,257,7],[232,8,258,6,"lateral"],[232,15,258,13],[232,17,258,15],[233,10,259,8,"sharp"],[233,15,259,13],[233,17,259,15,"BASE_THRESHOLDS"],[233,32,259,30],[233,33,259,31,"lateral"],[233,40,259,38],[233,41,259,39,"sharp"],[233,46,259,44],[233,49,259,47,"totalMultiplier"],[233,64,259,62],[234,10,260,8,"moderate"],[234,18,260,16],[234,20,260,18,"BASE_THRESHOLDS"],[234,35,260,33],[234,36,260,34,"lateral"],[234,43,260,41],[234,44,260,42,"moderate"],[234,52,260,50],[234,55,260,53,"totalMultiplier"],[235,8,261,6],[235,9,261,7],[236,8,262,6,"magnitude"],[236,17,262,15],[236,19,262,17],[237,10,263,8,"critical"],[237,18,263,16],[237,20,263,18,"BASE_THRESHOLDS"],[237,35,263,33],[237,36,263,34,"magnitude"],[237,45,263,43],[237,46,263,44,"critical"],[237,54,263,52],[237,57,263,55,"totalMultiplier"],[237,72,263,70],[238,10,264,8,"high"],[238,14,264,12],[238,16,264,14,"BASE_THRESHOLDS"],[238,31,264,29],[238,32,264,30,"magnitude"],[238,41,264,39],[238,42,264,40,"high"],[238,46,264,44],[238,49,264,47,"totalMultiplier"],[238,64,264,62],[239,10,265,8,"medium"],[239,16,265,14],[239,18,265,16,"BASE_THRESHOLDS"],[239,33,265,31],[239,34,265,32,"magnitude"],[239,43,265,41],[239,44,265,42,"medium"],[239,50,265,48],[239,53,265,51,"totalMultiplier"],[239,68,265,66],[240,10,266,8,"low"],[240,13,266,11],[240,15,266,13,"BASE_THRESHOLDS"],[240,30,266,28],[240,31,266,29,"magnitude"],[240,40,266,38],[240,41,266,39,"low"],[240,44,266,42],[240,47,266,45,"totalMultiplier"],[241,8,267,6],[242,6,268,4],[242,7,268,5],[243,4,269,2],[245,4,271,2],[246,0,272,0],[247,0,273,0],[248,4,274,10,"classifyEvent"],[248,17,274,23,"classifyEvent"],[248,18,274,24,"params"],[248,24,281,3],[248,26,281,27],[249,6,282,4],[249,12,282,10],[250,8,282,12,"deltaX"],[250,14,282,18],[251,8,282,20,"deltaY"],[251,14,282,26],[252,8,282,28,"deltaZ"],[252,14,282,34],[253,8,282,36,"magnitude"],[253,17,282,45],[254,8,282,47,"thresholds"],[254,18,282,57],[255,8,282,59,"data"],[256,6,282,64],[256,7,282,65],[256,10,282,68,"params"],[256,16,282,74],[257,6,284,4],[257,10,284,8,"eventType"],[257,19,284,28],[257,22,284,31],[257,30,284,39],[258,6,285,4],[258,10,285,8,"severity"],[258,18,285,31],[258,21,285,34],[258,22,285,35],[259,6,286,4],[259,10,286,8,"shouldNotifyUser"],[259,26,286,24],[259,29,286,27],[259,34,286,32],[260,6,287,4],[260,10,287,8,"shouldSendImmediately"],[260,31,287,29],[260,34,287,32],[260,39,287,37],[262,6,289,4],[263,6,290,4],[263,10,290,8,"magnitude"],[263,19,290,17],[263,23,290,21,"thresholds"],[263,33,290,31],[263,34,290,32,"magnitude"],[263,43,290,41],[263,44,290,42,"critical"],[263,52,290,50],[263,54,290,52],[264,8,291,6,"eventType"],[264,17,291,15],[264,20,291,18],[264,29,291,27],[265,8,292,6,"severity"],[265,16,292,14],[265,19,292,17],[265,20,292,18],[266,8,293,6,"shouldNotifyUser"],[266,24,293,22],[266,27,293,25],[266,31,293,29],[267,8,294,6,"shouldSendImmediately"],[267,29,294,27],[267,32,294,30],[267,36,294,34],[268,6,295,4],[269,6,296,4],[270,6,296,4],[270,11,297,9],[270,15,297,13,"deltaY"],[270,21,297,19],[270,25,297,23,"thresholds"],[270,35,297,33],[270,36,297,34,"pothole"],[270,43,297,41],[270,44,297,42,"critical"],[270,52,297,50],[270,54,297,52],[271,8,298,6,"eventType"],[271,17,298,15],[271,20,298,18],[271,29,298,27],[272,8,299,6,"severity"],[272,16,299,14],[272,19,299,17],[272,20,299,18],[273,8,300,6,"shouldNotifyUser"],[273,24,300,22],[273,27,300,25],[273,31,300,29],[274,8,301,6,"shouldSendImmediately"],[274,29,301,27],[274,32,301,30],[274,36,301,34],[275,6,302,4],[275,7,302,5],[275,13,303,9],[275,17,303,13,"deltaY"],[275,23,303,19],[275,27,303,23,"thresholds"],[275,37,303,33],[275,38,303,34,"pothole"],[275,45,303,41],[275,46,303,42,"high"],[275,50,303,46],[275,52,303,48],[276,8,304,6,"eventType"],[276,17,304,15],[276,20,304,18],[276,29,304,27],[277,8,305,6,"severity"],[277,16,305,14],[277,19,305,17],[277,20,305,18],[278,8,306,6,"shouldNotifyUser"],[278,24,306,22],[278,27,306,25],[278,31,306,29],[279,8,307,6,"shouldSendImmediately"],[279,29,307,27],[279,32,307,30],[279,37,307,35],[280,6,308,4],[280,7,308,5],[280,13,309,9],[280,17,309,13,"deltaY"],[280,23,309,19],[280,27,309,23,"thresholds"],[280,37,309,33],[280,38,309,34,"pothole"],[280,45,309,41],[280,46,309,42,"medium"],[280,52,309,48],[280,54,309,50],[281,8,310,6,"eventType"],[281,17,310,15],[281,20,310,18],[281,26,310,24],[282,8,311,6,"severity"],[282,16,311,14],[282,19,311,17],[282,20,311,18],[283,6,312,4],[283,7,312,5],[283,13,313,9],[283,17,313,13,"deltaY"],[283,23,313,19],[283,27,313,23,"thresholds"],[283,37,313,33],[283,38,313,34,"pothole"],[283,45,313,41],[283,46,313,42,"low"],[283,49,313,45],[283,51,313,47],[284,8,314,6,"eventType"],[284,17,314,15],[284,20,314,18],[284,31,314,29],[285,8,315,6,"severity"],[285,16,315,14],[285,19,315,17],[285,20,315,18],[286,6,316,4],[287,6,317,4],[288,6,317,4],[288,11,318,9],[288,15,318,13,"deltaZ"],[288,21,318,19],[288,25,318,23,"thresholds"],[288,35,318,33],[288,36,318,34,"braking"],[288,43,318,41],[288,44,318,42,"emergency"],[288,53,318,51],[288,55,318,53],[289,8,319,6,"eventType"],[289,17,319,15],[289,20,319,18],[289,29,319,27],[290,8,320,6,"severity"],[290,16,320,14],[290,19,320,17],[290,20,320,18],[291,8,321,6,"shouldNotifyUser"],[291,24,321,22],[291,27,321,25],[291,31,321,29],[292,8,322,6,"shouldSendImmediately"],[292,29,322,27],[292,32,322,30],[292,36,322,34],[293,6,323,4],[293,7,323,5],[293,13,324,9],[293,17,324,13,"deltaZ"],[293,23,324,19],[293,27,324,23,"thresholds"],[293,37,324,33],[293,38,324,34,"braking"],[293,45,324,41],[293,46,324,42,"sharp"],[293,51,324,47],[293,53,324,49],[294,8,325,6,"eventType"],[294,17,325,15],[294,20,325,18],[294,29,325,27],[295,8,326,6,"severity"],[295,16,326,14],[295,19,326,17],[295,20,326,18],[296,6,327,4],[296,7,327,5],[296,13,328,9],[296,17,328,13,"deltaZ"],[296,23,328,19],[296,27,328,23,"thresholds"],[296,37,328,33],[296,38,328,34,"braking"],[296,45,328,41],[296,46,328,42,"moderate"],[296,54,328,50],[296,56,328,52],[297,8,329,6,"eventType"],[297,17,329,15],[297,20,329,18],[297,29,329,27],[298,8,330,6,"severity"],[298,16,330,14],[298,19,330,17],[298,20,330,18],[299,6,331,4],[300,6,332,4],[301,6,332,4],[301,11,333,9],[301,15,333,13,"deltaX"],[301,21,333,19],[301,25,333,23,"thresholds"],[301,35,333,33],[301,36,333,34,"lateral"],[301,43,333,41],[301,44,333,42,"sharp"],[301,49,333,47],[301,51,333,49],[302,8,334,6,"eventType"],[302,17,334,15],[302,20,334,18],[302,31,334,29],[303,8,335,6,"severity"],[303,16,335,14],[303,19,335,17],[303,20,335,18],[304,6,336,4],[304,7,336,5],[304,13,337,9],[304,17,337,13,"deltaX"],[304,23,337,19],[304,27,337,23,"thresholds"],[304,37,337,33],[304,38,337,34,"lateral"],[304,45,337,41],[304,46,337,42,"moderate"],[304,54,337,50],[304,56,337,52],[305,8,338,6,"eventType"],[305,17,338,15],[305,20,338,18],[305,31,338,29],[306,8,339,6,"severity"],[306,16,339,14],[306,19,339,17],[306,20,339,18],[307,6,340,4],[309,6,342,4],[310,6,343,4],[310,10,343,8,"eventType"],[310,19,343,17],[310,24,343,22],[310,32,343,30],[310,36,343,34,"magnitude"],[310,45,343,43],[310,48,343,46],[310,51,343,49],[310,53,343,51],[311,8,344,6],[311,15,344,13],[311,19,344,17],[312,6,345,4],[314,6,347,4],[315,6,348,4],[315,12,348,10,"variance"],[315,20,348,18],[315,23,348,21],[315,27,348,25],[315,28,348,26,"calculateVariance"],[315,45,348,43],[315,46,348,44],[315,48,348,46],[315,49,348,47],[316,6,350,4],[316,13,350,11],[317,8,351,6,"eventType"],[317,17,351,15],[318,8,352,6,"severity"],[318,16,352,14],[319,8,353,6,"timestamp"],[319,17,353,15],[319,19,353,17,"data"],[319,23,353,21],[319,24,353,22,"timestamp"],[319,33,353,31],[320,8,354,6,"accelerometer"],[320,21,354,19],[320,23,354,21],[321,10,355,8,"x"],[321,11,355,9],[321,13,355,11,"data"],[321,17,355,15],[321,18,355,16,"x"],[321,19,355,17],[322,10,356,8,"y"],[322,11,356,9],[322,13,356,11,"data"],[322,17,356,15],[322,18,356,16,"y"],[322,19,356,17],[323,10,357,8,"z"],[323,11,357,9],[323,13,357,11,"data"],[323,17,357,15],[323,18,357,16,"z"],[323,19,357,17],[324,10,358,8,"magnitude"],[324,19,358,17],[325,10,359,8,"deltaY"],[325,16,359,14],[326,10,360,8,"deltaZ"],[326,16,360,14],[327,10,361,8,"deltaX"],[327,16,361,14],[328,10,361,16],[329,10,362,8,"variance"],[329,18,362,16],[329,19,362,18],[330,8,363,6],[330,9,363,7],[331,8,364,6,"roadType"],[331,16,364,14],[331,18,364,16],[331,22,364,20],[331,23,364,21,"detectedRoadType"],[331,39,364,37],[332,8,365,6,"shouldNotifyUser"],[332,24,365,22],[333,8,366,6,"shouldSendImmediately"],[334,6,367,4],[334,7,367,5],[335,4,368,2],[337,4,370,2],[338,0,371,0],[339,0,372,0],[340,4,373,2,"getRoadType"],[340,15,373,13,"getRoadType"],[340,16,373,13],[340,18,373,26],[341,6,374,4],[341,13,374,11],[341,17,374,15],[341,18,374,16,"detectedRoadType"],[341,34,374,32],[342,4,375,2],[344,4,377,2],[345,0,378,0],[346,0,379,0],[347,4,380,2,"reset"],[347,9,380,7,"reset"],[347,10,380,7],[347,12,380,10],[348,6,381,4],[348,10,381,8],[348,11,381,9,"previousData"],[348,23,381,21],[348,26,381,24],[348,30,381,28],[349,6,382,4],[349,10,382,8],[349,11,382,9,"roadTypeHistory"],[349,26,382,24],[349,29,382,27],[349,31,382,29],[350,6,383,4],[350,10,383,8],[350,11,383,9,"detectedRoadType"],[350,27,383,25],[350,30,383,28],[350,39,383,37],[351,4,384,2],[352,2,385,0],[353,2,387,0],[353,6,387,0,"_default"],[353,14,387,0],[353,17,387,15,"EventDetector"],[353,30,387,28],[354,0,387,29],[354,3]],"functionMap":{"names":["<global>","EventDetector","constructor","setCalibration","processAccelerometerData","updateRoadTypeHistory","calculateVariance","recentData.reduce$argument_0","detectRoadType","roadTypeHistory.reduce$argument_0","getAdaptiveThresholds","classifyEvent","getRoadType","reset"],"mappings":"AAA;ACoH;ECM;GDE;EEK;GFE;EGK;GHoC;EIK;GJO;EKM;mCCS,uBD;uCCG;KDG;GLG;EOK;qDCM,uBD;GPU;ESK;GTkC;EUK;GV8F;EWK;GXE;EYK;GZI;CDC"},"hasCjsExports":false},"type":"js/module"}]}