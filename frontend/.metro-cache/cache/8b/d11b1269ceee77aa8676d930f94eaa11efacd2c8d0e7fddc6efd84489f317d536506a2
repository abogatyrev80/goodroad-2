{"dependencies":[{"name":"expo/virtual/env","data":{"asyncType":null,"isESMImport":false,"locs":[],"key":"dgHc21cgR+buKc7O3/dChhD5JJk=","exportNames":["*"],"imports":1}},{"name":"@react-native-async-storage/async-storage","data":{"asyncType":null,"isESMImport":true,"locs":[{"start":{"line":11,"column":0,"index":245},"end":{"line":11,"column":69,"index":314}}],"key":"0kSRlooyBOaYM9tlTtK91nq+uds=","exportNames":["*"],"imports":1}}],"output":[{"data":{"code":"__d(function (global, require, _$$_IMPORT_DEFAULT, _$$_IMPORT_ALL, module, exports, _dependencyMap) {\n  \"use strict\";\n\n  Object.defineProperty(exports, '__esModule', {\n    value: true\n  });\n  function _interopDefault(e) {\n    return e && e.__esModule ? e : {\n      default: e\n    };\n  }\n  Object.defineProperty(exports, \"default\", {\n    enumerable: true,\n    get: function () {\n      return _default;\n    }\n  });\n  Object.defineProperty(exports, \"obstacleService\", {\n    enumerable: true,\n    get: function () {\n      return obstacleService;\n    }\n  });\n  var _expoVirtualEnv = require(_dependencyMap[0], \"expo/virtual/env\");\n  var _reactNativeAsyncStorageAsyncStorage = require(_dependencyMap[1], \"@react-native-async-storage/async-storage\");\n  var AsyncStorage = _interopDefault(_reactNativeAsyncStorageAsyncStorage);\n  /**\n   * ObstacleService - –°–µ—Ä–≤–∏—Å –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è–º–∏ –∏–∑ –∫–ª–∞—Å—Ç–µ—Ä–æ–≤\n   * \n   * –§—É–Ω–∫—Ü–∏–∏:\n   * - –ó–∞–≥—Ä—É–∑–∫–∞ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π —Ä—è–¥–æ–º —Å —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–µ–π\n   * - –ö—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö\n   * - –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π\n   * - –ê–¥–∞–ø—Ç–∞—Ü–∏—è –ø–æ–¥ —Ä–µ–∞–∫—Ü–∏–∏ –≤–æ–¥–∏—Ç–µ–ª—è\n   */\n\n  class ObstacleService {\n    cachedObstacles = [];\n    lastFetchTime = 0;\n    passedObstacles = new Set(); // ID –ø—Ä–æ–π–¥–µ–Ω–Ω—ã—Ö –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–π\n    driverReactions = [];\n    CACHE_DURATION = 30000; // 30 —Å–µ–∫—É–Ω–¥\n    PASSED_DISTANCE = 50; // –º–µ—Ç—Ä–æ–≤ - —Å—á–∏—Ç–∞–µ—Ç—Å—è –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–º\n\n    constructor() {\n      const url = _expoVirtualEnv.env.EXPO_PUBLIC_BACKEND_URL || 'https://road-monitor-4.emergent.host';\n      this.backendUrl = url.endsWith('/') ? url : url + '/';\n      console.log('üöß ObstacleService initialized with URL:', this.backendUrl);\n      this.loadDriverReactions();\n    }\n\n    /**\n     * –ó–∞–≥—Ä—É–∑–∏—Ç—å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è —Ä—è–¥–æ–º —Å —Ç–µ–∫—É—â–µ–π –ø–æ–∑–∏—Ü–∏–µ–π\n     */\n    async fetchNearbyObstacles(latitude, longitude, radius = 5000, minConfirmations = 1) {\n      try {\n        // –ü—Ä–æ–≤–µ—Ä—è–µ–º –∫—ç—à\n        const now = Date.now();\n        if (now - this.lastFetchTime < this.CACHE_DURATION && this.cachedObstacles.length > 0) {\n          console.log('üì¶ Using cached obstacles:', this.cachedObstacles.length);\n          return this.filterActiveObstacles(this.cachedObstacles, latitude, longitude);\n        }\n\n        // –ó–∞–ø—Ä–∞—à–∏–≤–∞–µ–º —Å —Å–µ—Ä–≤–µ—Ä–∞\n        const url = `${this.backendUrl}api/obstacles/nearby?latitude=${latitude}&longitude=${longitude}&radius=${radius}&min_confirmations=${minConfirmations}`;\n        console.log('üåê Fetching obstacles from:', url);\n        const response = await fetch(url, {\n          method: 'GET',\n          headers: {\n            'Content-Type': 'application/json'\n          }\n        });\n        if (!response.ok) {\n          throw new Error(`HTTP ${response.status}: ${response.statusText}`);\n        }\n        const data = await response.json();\n        this.cachedObstacles = data.obstacles;\n        this.lastFetchTime = now;\n        console.log(`‚úÖ Fetched ${data.total} obstacles`);\n        return this.filterActiveObstacles(data.obstacles, latitude, longitude);\n      } catch (error) {\n        console.error('‚ùå Error fetching obstacles:', error);\n        // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫—ç—à–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –≤ —Å–ª—É—á–∞–µ –æ—à–∏–±–∫–∏\n        return this.filterActiveObstacles(this.cachedObstacles, latitude, longitude);\n      }\n    }\n\n    /**\n     * –§–∏–ª—å—Ç—Ä—É–µ—Ç –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è - —É–±–∏—Ä–∞–µ—Ç –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–µ\n     */\n    filterActiveObstacles(obstacles, currentLat, currentLon) {\n      return obstacles.filter(obstacle => {\n        // –ü—Ä–æ–ø—É—Å–∫–∞–µ–º –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–µ\n        if (this.passedObstacles.has(obstacle.id)) {\n          return false;\n        }\n\n        // –ü–æ–º–µ—á–∞–µ–º –∫–∞–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–µ –µ—Å–ª–∏ –æ—á–µ–Ω—å –±–ª–∏–∑–∫–æ (–ø–æ–∑–∞–¥–∏)\n        if (obstacle.distance < this.PASSED_DISTANCE) {\n          this.markAsPassed(obstacle.id);\n          return false;\n        }\n        return true;\n      });\n    }\n\n    /**\n     * –ü–æ–ª—É—á–∏—Ç—å –±–ª–∏–∂–∞–π—à–µ–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ\n     */\n    getClosestObstacle(obstacles) {\n      if (obstacles.length === 0) return null;\n\n      // –£–∂–µ –æ—Ç—Å–æ—Ä—Ç–∏—Ä–æ–≤–∞–Ω—ã –ø–æ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç—É, –Ω–æ –≤—ã–±–∏—Ä–∞–µ–º –±–ª–∏–∂–∞–π—à–µ–µ\n      return obstacles.reduce((closest, current) => {\n        return current.distance < closest.distance ? current : closest;\n      });\n    }\n\n    /**\n     * –ü–æ–ª—É—á–∏—Ç—å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è —Ç—Ä–µ–±—É—é—â–∏–µ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è\n     */\n    getAlertsForDistance(obstacles) {\n      // –ê–¥–∞–ø—Ç–∏—Ä—É–µ–º –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–∫—Ü–∏–π –≤–æ–¥–∏—Ç–µ–ª—è\n      const alertDistances = this.calculateAlertDistances();\n      return obstacles.filter(obstacle => {\n        const alertDistance = alertDistances[obstacle.type] || 500;\n        return obstacle.distance <= alertDistance && obstacle.distance > this.PASSED_DISTANCE;\n      });\n    }\n\n    /**\n     * –í—ã—á–∏—Å–ª—è–µ—Ç –¥–∏—Å—Ç–∞–Ω—Ü–∏–∏ –æ–ø–æ–≤–µ—â–µ–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ä–µ–∞–∫—Ü–∏–π –≤–æ–¥–∏—Ç–µ–ª—è\n     */\n    calculateAlertDistances() {\n      const defaults = {\n        pothole: 500,\n        speed_bump: 300,\n        bump: 400,\n        braking: 600,\n        vibration: 400,\n        accident: 800\n      };\n\n      // –ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ä–µ–∞–∫—Ü–∏–∏ –≤–æ–¥–∏—Ç–µ–ª—è –∑–∞ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å–æ–±—ã—Ç–∏–π\n      const recentReactions = this.driverReactions.slice(-100);\n      for (const reaction of recentReactions) {\n        const type = reaction.obstacleType;\n        if (reaction.action === 'confirmed') {\n          // –í–æ–¥–∏—Ç–µ–ª—å –ø–æ–¥—Ç–≤–µ—Ä–¥–∏–ª - —É–≤–µ–ª–∏—á–∏–≤–∞–µ–º –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –æ–ø–æ–≤–µ—â–µ–Ω–∏—è\n          defaults[type] = Math.min(defaults[type] + 50, 1500);\n        } else if (reaction.action === 'dismissed') {\n          // –í–æ–¥–∏—Ç–µ–ª—å –æ—Ç–∫–ª–æ–Ω–∏–ª - —É–º–µ–Ω—å—à–∞–µ–º –¥–∏—Å—Ç–∞–Ω—Ü–∏—é –æ–ø–æ–≤–µ—â–µ–Ω–∏—è\n          defaults[type] = Math.max(defaults[type] - 50, 200);\n        }\n      }\n      return defaults;\n    }\n\n    /**\n     * –ó–∞—Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä–æ–≤–∞—Ç—å —Ä–µ–∞–∫—Ü–∏—é –≤–æ–¥–∏—Ç–µ–ª—è\n     */\n    async recordDriverReaction(obstacle, action) {\n      const reaction = {\n        obstacleId: obstacle.id,\n        obstacleType: obstacle.type,\n        action,\n        timestamp: new Date().toISOString(),\n        distance: obstacle.distance\n      };\n      this.driverReactions.push(reaction);\n\n      // –°–æ—Ö—Ä–∞–Ω—è–µ–º —Ç–æ–ª—å–∫–æ –ø–æ—Å–ª–µ–¥–Ω–∏–µ 200 —Ä–µ–∞–∫—Ü–∏–π\n      if (this.driverReactions.length > 200) {\n        this.driverReactions = this.driverReactions.slice(-200);\n      }\n      await this.saveDriverReactions();\n      console.log(`üìù Driver reaction recorded: ${action} for ${obstacle.type} at ${obstacle.distance}m`);\n    }\n\n    /**\n     * –ü–æ–º–µ—Ç–∏—Ç—å –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏–µ –∫–∞–∫ –ø—Ä–æ–π–¥–µ–Ω–Ω–æ–µ\n     */\n    markAsPassed(obstacleId) {\n      this.passedObstacles.add(obstacleId);\n      console.log(`‚úÖ Obstacle marked as passed: ${obstacleId}`);\n    }\n\n    /**\n     * –û—á–∏—Å—Ç–∏—Ç—å –ø—Ä–æ–π–¥–µ–Ω–Ω—ã–µ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è (–∫–æ–≥–¥–∞ –æ—Å—Ç–∞–Ω–æ–≤–∏–ª–∏—Å—å)\n     */\n    clearPassedObstacles() {\n      this.passedObstacles.clear();\n      console.log('üßπ Cleared passed obstacles');\n    }\n\n    /**\n     * –°–æ—Ö—Ä–∞–Ω–∏—Ç—å —Ä–µ–∞–∫—Ü–∏–∏ –≤–æ–¥–∏—Ç–µ–ª—è\n     */\n    async saveDriverReactions() {\n      try {\n        await AsyncStorage.default.setItem('driver_reactions', JSON.stringify(this.driverReactions));\n      } catch (error) {\n        console.error('‚ùå Error saving driver reactions:', error);\n      }\n    }\n\n    /**\n     * –ó–∞–≥—Ä—É–∑–∏—Ç—å —Ä–µ–∞–∫—Ü–∏–∏ –≤–æ–¥–∏—Ç–µ–ª—è\n     */\n    async loadDriverReactions() {\n      try {\n        const data = await AsyncStorage.default.getItem('driver_reactions');\n        if (data) {\n          this.driverReactions = JSON.parse(data);\n          console.log(`üìÇ Loaded ${this.driverReactions.length} driver reactions`);\n        }\n      } catch (error) {\n        console.error('‚ùå Error loading driver reactions:', error);\n      }\n    }\n\n    /**\n     * –ü–æ–ª—É—á–∏—Ç—å —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫—É –∞–¥–∞–ø—Ç–∞—Ü–∏–∏\n     */\n    getAdaptationStats() {\n      return {\n        totalReactions: this.driverReactions.length,\n        confirmed: this.driverReactions.filter(r => r.action === 'confirmed').length,\n        dismissed: this.driverReactions.filter(r => r.action === 'dismissed').length,\n        ignored: this.driverReactions.filter(r => r.action === 'ignored').length\n      };\n    }\n\n    /**\n     * –ü–æ–ª—É—á–∏—Ç—å –∏–∫–æ–Ω–∫—É –¥–ª—è —Ç–∏–ø–∞ –ø—Ä–µ–ø—è—Ç—Å—Ç–≤–∏—è\n     */\n    getObstacleIcon(type) {\n      const icons = {\n        pothole: 'üï≥Ô∏è',\n        speed_bump: '‚ö†Ô∏è',\n        bump: '‚ö†Ô∏è',\n        braking: 'üö®',\n        vibration: '„Ä∞Ô∏è',\n        accident: 'üö®'\n      };\n      return icons[type] || 'üìç';\n    }\n\n    /**\n     * –ü–æ–ª—É—á–∏—Ç—å —Ü–≤–µ—Ç –¥–ª—è —É—Ä–æ–≤–Ω—è —Å–µ—Ä—å–µ–∑–Ω–æ—Å—Ç–∏\n     */\n    getSeverityColor(severity) {\n      if (severity <= 2) return '#dc2626'; // –ö—Ä–∏—Ç–∏—á–Ω–æ\n      if (severity <= 3) return '#f59e0b'; // –°—Ä–µ–¥–Ω–µ\n      return '#22c55e'; // –ù–∏–∑–∫–æ\n    }\n  }\n\n  // Singleton\n  const obstacleService = new ObstacleService();\n  var _default = obstacleService;\n});","lineCount":262,"map":[[12,2,304,0,"Object"],[12,8,304,0],[12,9,304,0,"defineProperty"],[12,23,304,0],[12,24,304,0,"exports"],[12,31,304,0],[13,4,304,0,"enumerable"],[13,14,304,0],[14,4,304,0,"get"],[14,7,304,0],[14,18,304,0,"get"],[14,19,304,0],[15,6,304,0],[15,13,304,0,"_default"],[15,21,304,0],[16,4,304,0],[17,2,304,0],[18,2,303,0,"Object"],[18,8,303,0],[18,9,303,0,"defineProperty"],[18,23,303,0],[18,24,303,0,"exports"],[18,31,303,0],[19,4,303,0,"enumerable"],[19,14,303,0],[20,4,303,0,"get"],[20,7,303,0],[20,18,303,0,"get"],[20,19,303,0],[21,6,303,0],[21,13,303,0,"obstacleService"],[21,28,303,0],[22,4,303,0],[23,2,303,0],[24,2,303,53],[24,6,303,53,"_expoVirtualEnv"],[24,21,303,53],[24,24,303,53,"require"],[24,31,303,53],[24,32,303,53,"_dependencyMap"],[24,46,303,53],[25,2,11,0],[25,6,11,0,"_reactNativeAsyncStorageAsyncStorage"],[25,42,11,0],[25,45,11,0,"require"],[25,52,11,0],[25,53,11,0,"_dependencyMap"],[25,67,11,0],[26,2,11,0],[26,6,11,0,"AsyncStorage"],[26,18,11,0],[26,21,11,0,"_interopDefault"],[26,36,11,0],[26,37,11,0,"_reactNativeAsyncStorageAsyncStorage"],[26,73,11,0],[27,2,1,0],[28,0,2,0],[29,0,3,0],[30,0,4,0],[31,0,5,0],[32,0,6,0],[33,0,7,0],[34,0,8,0],[35,0,9,0],[37,2,49,0],[37,8,49,6,"ObstacleService"],[37,23,49,21],[37,24,49,22],[38,4,51,10,"cachedObstacles"],[38,19,51,25],[38,22,51,40],[38,24,51,42],[39,4,52,10,"lastFetchTime"],[39,17,52,23],[39,20,52,34],[39,21,52,35],[40,4,53,10,"passedObstacles"],[40,19,53,25],[40,22,53,41],[40,26,53,45,"Set"],[40,29,53,48],[40,30,53,49],[40,31,53,50],[40,32,53,51],[40,33,53,52],[41,4,54,10,"driverReactions"],[41,19,54,25],[41,22,54,46],[41,24,54,48],[42,4,55,19,"CACHE_DURATION"],[42,18,55,33],[42,21,55,36],[42,26,55,41],[42,27,55,42],[42,28,55,43],[43,4,56,19,"PASSED_DISTANCE"],[43,19,56,34],[43,22,56,37],[43,24,56,39],[43,25,56,40],[43,26,56,41],[45,4,58,2,"constructor"],[45,15,58,13,"constructor"],[45,16,58,13],[45,18,58,16],[46,6,59,4],[46,12,59,10,"url"],[46,15,59,13],[46,18,59,16,"_expoVirtualEnv"],[46,33,59,16],[46,34,59,16,"env"],[46,37,59,16],[46,38,59,16,"EXPO_PUBLIC_BACKEND_URL"],[46,61,59,16],[46,65,59,55],[46,103,59,93],[47,6,60,4],[47,10,60,8],[47,11,60,9,"backendUrl"],[47,21,60,19],[47,24,60,22,"url"],[47,27,60,25],[47,28,60,26,"endsWith"],[47,36,60,34],[47,37,60,35],[47,40,60,38],[47,41,60,39],[47,44,60,42,"url"],[47,47,60,45],[47,50,60,48,"url"],[47,53,60,51],[47,56,60,54],[47,59,60,57],[48,6,61,4,"console"],[48,13,61,11],[48,14,61,12,"log"],[48,17,61,15],[48,18,61,16],[48,60,61,58],[48,62,61,60],[48,66,61,64],[48,67,61,65,"backendUrl"],[48,77,61,75],[48,78,61,76],[49,6,62,4],[49,10,62,8],[49,11,62,9,"loadDriverReactions"],[49,30,62,28],[49,31,62,29],[49,32,62,30],[50,4,63,2],[52,4,65,2],[53,0,66,0],[54,0,67,0],[55,4,68,2],[55,10,68,8,"fetchNearbyObstacles"],[55,30,68,28,"fetchNearbyObstacles"],[55,31,69,4,"latitude"],[55,39,69,20],[55,41,70,4,"longitude"],[55,50,70,21],[55,52,71,4,"radius"],[55,58,71,18],[55,61,71,21],[55,65,71,25],[55,67,72,4,"minConfirmations"],[55,83,72,28],[55,86,72,31],[55,87,72,32],[55,89,73,25],[56,6,74,4],[56,10,74,8],[57,8,75,6],[58,8,76,6],[58,14,76,12,"now"],[58,17,76,15],[58,20,76,18,"Date"],[58,24,76,22],[58,25,76,23,"now"],[58,28,76,26],[58,29,76,27],[58,30,76,28],[59,8,77,6],[59,12,77,10,"now"],[59,15,77,13],[59,18,77,16],[59,22,77,20],[59,23,77,21,"lastFetchTime"],[59,36,77,34],[59,39,77,37],[59,43,77,41],[59,44,77,42,"CACHE_DURATION"],[59,58,77,56],[59,62,77,60],[59,66,77,64],[59,67,77,65,"cachedObstacles"],[59,82,77,80],[59,83,77,81,"length"],[59,89,77,87],[59,92,77,90],[59,93,77,91],[59,95,77,93],[60,10,78,8,"console"],[60,17,78,15],[60,18,78,16,"log"],[60,21,78,19],[60,22,78,20],[60,50,78,48],[60,52,78,50],[60,56,78,54],[60,57,78,55,"cachedObstacles"],[60,72,78,70],[60,73,78,71,"length"],[60,79,78,77],[60,80,78,78],[61,10,79,8],[61,17,79,15],[61,21,79,19],[61,22,79,20,"filterActiveObstacles"],[61,43,79,41],[61,44,79,42],[61,48,79,46],[61,49,79,47,"cachedObstacles"],[61,64,79,62],[61,66,79,64,"latitude"],[61,74,79,72],[61,76,79,74,"longitude"],[61,85,79,83],[61,86,79,84],[62,8,80,6],[64,8,82,6],[65,8,83,6],[65,14,83,12,"url"],[65,17,83,15],[65,20,83,18],[65,23,83,21],[65,27,83,25],[65,28,83,26,"backendUrl"],[65,38,83,36],[65,71,83,69,"latitude"],[65,79,83,77],[65,93,83,91,"longitude"],[65,102,83,100],[65,113,83,111,"radius"],[65,119,83,117],[65,141,83,139,"minConfirmations"],[65,157,83,155],[65,159,83,157],[66,8,84,6,"console"],[66,15,84,13],[66,16,84,14,"log"],[66,19,84,17],[66,20,84,18],[66,49,84,47],[66,51,84,49,"url"],[66,54,84,52],[66,55,84,53],[67,8,86,6],[67,14,86,12,"response"],[67,22,86,20],[67,25,86,23],[67,31,86,29,"fetch"],[67,36,86,34],[67,37,86,35,"url"],[67,40,86,38],[67,42,86,40],[68,10,87,8,"method"],[68,16,87,14],[68,18,87,16],[68,23,87,21],[69,10,88,8,"headers"],[69,17,88,15],[69,19,88,17],[70,12,89,10],[70,26,89,24],[70,28,89,26],[71,10,90,8],[72,8,91,6],[72,9,91,7],[72,10,91,8],[73,8,93,6],[73,12,93,10],[73,13,93,11,"response"],[73,21,93,19],[73,22,93,20,"ok"],[73,24,93,22],[73,26,93,24],[74,10,94,8],[74,16,94,14],[74,20,94,18,"Error"],[74,25,94,23],[74,26,94,24],[74,34,94,32,"response"],[74,42,94,40],[74,43,94,41,"status"],[74,49,94,47],[74,54,94,52,"response"],[74,62,94,60],[74,63,94,61,"statusText"],[74,73,94,71],[74,75,94,73],[74,76,94,74],[75,8,95,6],[76,8,97,6],[76,14,97,12,"data"],[76,18,97,35],[76,21,97,38],[76,27,97,44,"response"],[76,35,97,52],[76,36,97,53,"json"],[76,40,97,57],[76,41,97,58],[76,42,97,59],[77,8,99,6],[77,12,99,10],[77,13,99,11,"cachedObstacles"],[77,28,99,26],[77,31,99,29,"data"],[77,35,99,33],[77,36,99,34,"obstacles"],[77,45,99,43],[78,8,100,6],[78,12,100,10],[78,13,100,11,"lastFetchTime"],[78,26,100,24],[78,29,100,27,"now"],[78,32,100,30],[79,8,102,6,"console"],[79,15,102,13],[79,16,102,14,"log"],[79,19,102,17],[79,20,102,18],[79,33,102,31,"data"],[79,37,102,35],[79,38,102,36,"total"],[79,43,102,41],[79,55,102,53],[79,56,102,54],[80,8,104,6],[80,15,104,13],[80,19,104,17],[80,20,104,18,"filterActiveObstacles"],[80,41,104,39],[80,42,104,40,"data"],[80,46,104,44],[80,47,104,45,"obstacles"],[80,56,104,54],[80,58,104,56,"latitude"],[80,66,104,64],[80,68,104,66,"longitude"],[80,77,104,75],[80,78,104,76],[81,6,105,4],[81,7,105,5],[81,8,105,6],[81,15,105,13,"error"],[81,20,105,18],[81,22,105,20],[82,8,106,6,"console"],[82,15,106,13],[82,16,106,14,"error"],[82,21,106,19],[82,22,106,20],[82,51,106,49],[82,53,106,51,"error"],[82,58,106,56],[82,59,106,57],[83,8,107,6],[84,8,108,6],[84,15,108,13],[84,19,108,17],[84,20,108,18,"filterActiveObstacles"],[84,41,108,39],[84,42,108,40],[84,46,108,44],[84,47,108,45,"cachedObstacles"],[84,62,108,60],[84,64,108,62,"latitude"],[84,72,108,70],[84,74,108,72,"longitude"],[84,83,108,81],[84,84,108,82],[85,6,109,4],[86,4,110,2],[88,4,112,2],[89,0,113,0],[90,0,114,0],[91,4,115,10,"filterActiveObstacles"],[91,25,115,31,"filterActiveObstacles"],[91,26,115,32,"obstacles"],[91,35,115,53],[91,37,115,55,"currentLat"],[91,47,115,73],[91,49,115,75,"currentLon"],[91,59,115,93],[91,61,115,107],[92,6,116,4],[92,13,116,11,"obstacles"],[92,22,116,20],[92,23,116,21,"filter"],[92,29,116,27],[92,30,116,28,"obstacle"],[92,38,116,36],[92,42,116,40],[93,8,117,6],[94,8,118,6],[94,12,118,10],[94,16,118,14],[94,17,118,15,"passedObstacles"],[94,32,118,30],[94,33,118,31,"has"],[94,36,118,34],[94,37,118,35,"obstacle"],[94,45,118,43],[94,46,118,44,"id"],[94,48,118,46],[94,49,118,47],[94,51,118,49],[95,10,119,8],[95,17,119,15],[95,22,119,20],[96,8,120,6],[98,8,122,6],[99,8,123,6],[99,12,123,10,"obstacle"],[99,20,123,18],[99,21,123,19,"distance"],[99,29,123,27],[99,32,123,30],[99,36,123,34],[99,37,123,35,"PASSED_DISTANCE"],[99,52,123,50],[99,54,123,52],[100,10,124,8],[100,14,124,12],[100,15,124,13,"markAsPassed"],[100,27,124,25],[100,28,124,26,"obstacle"],[100,36,124,34],[100,37,124,35,"id"],[100,39,124,37],[100,40,124,38],[101,10,125,8],[101,17,125,15],[101,22,125,20],[102,8,126,6],[103,8,128,6],[103,15,128,13],[103,19,128,17],[104,6,129,4],[104,7,129,5],[104,8,129,6],[105,4,130,2],[107,4,132,2],[108,0,133,0],[109,0,134,0],[110,4,135,2,"getClosestObstacle"],[110,22,135,20,"getClosestObstacle"],[110,23,135,21,"obstacles"],[110,32,135,42],[110,34,135,61],[111,6,136,4],[111,10,136,8,"obstacles"],[111,19,136,17],[111,20,136,18,"length"],[111,26,136,24],[111,31,136,29],[111,32,136,30],[111,34,136,32],[111,41,136,39],[111,45,136,43],[113,6,138,4],[114,6,139,4],[114,13,139,11,"obstacles"],[114,22,139,20],[114,23,139,21,"reduce"],[114,29,139,27],[114,30,139,28],[114,31,139,29,"closest"],[114,38,139,36],[114,40,139,38,"current"],[114,47,139,45],[114,52,139,50],[115,8,140,6],[115,15,140,13,"current"],[115,22,140,20],[115,23,140,21,"distance"],[115,31,140,29],[115,34,140,32,"closest"],[115,41,140,39],[115,42,140,40,"distance"],[115,50,140,48],[115,53,140,51,"current"],[115,60,140,58],[115,63,140,61,"closest"],[115,70,140,68],[116,6,141,4],[116,7,141,5],[116,8,141,6],[117,4,142,2],[119,4,144,2],[120,0,145,0],[121,0,146,0],[122,4,147,2,"getAlertsForDistance"],[122,24,147,22,"getAlertsForDistance"],[122,25,147,23,"obstacles"],[122,34,147,44],[122,36,147,58],[123,6,148,4],[124,6,149,4],[124,12,149,10,"alertDistances"],[124,26,149,24],[124,29,149,27],[124,33,149,31],[124,34,149,32,"calculateAlertDistances"],[124,57,149,55],[124,58,149,56],[124,59,149,57],[125,6,151,4],[125,13,151,11,"obstacles"],[125,22,151,20],[125,23,151,21,"filter"],[125,29,151,27],[125,30,151,28,"obstacle"],[125,38,151,36],[125,42,151,40],[126,8,152,6],[126,14,152,12,"alertDistance"],[126,27,152,25],[126,30,152,28,"alertDistances"],[126,44,152,42],[126,45,152,43,"obstacle"],[126,53,152,51],[126,54,152,52,"type"],[126,58,152,56],[126,59,152,57],[126,63,152,61],[126,66,152,64],[127,8,153,6],[127,15,153,13,"obstacle"],[127,23,153,21],[127,24,153,22,"distance"],[127,32,153,30],[127,36,153,34,"alertDistance"],[127,49,153,47],[127,53,153,51,"obstacle"],[127,61,153,59],[127,62,153,60,"distance"],[127,70,153,68],[127,73,153,71],[127,77,153,75],[127,78,153,76,"PASSED_DISTANCE"],[127,93,153,91],[128,6,154,4],[128,7,154,5],[128,8,154,6],[129,4,155,2],[131,4,157,2],[132,0,158,0],[133,0,159,0],[134,4,160,10,"calculateAlertDistances"],[134,27,160,33,"calculateAlertDistances"],[134,28,160,33],[134,30,160,60],[135,6,161,4],[135,12,161,10,"defaults"],[135,20,161,42],[135,23,161,45],[136,8,162,6,"pothole"],[136,15,162,13],[136,17,162,15],[136,20,162,18],[137,8,163,6,"speed_bump"],[137,18,163,16],[137,20,163,18],[137,23,163,21],[138,8,164,6,"bump"],[138,12,164,10],[138,14,164,12],[138,17,164,15],[139,8,165,6,"braking"],[139,15,165,13],[139,17,165,15],[139,20,165,18],[140,8,166,6,"vibration"],[140,17,166,15],[140,19,166,17],[140,22,166,20],[141,8,167,6,"accident"],[141,16,167,14],[141,18,167,16],[142,6,168,4],[142,7,168,5],[144,6,170,4],[145,6,171,4],[145,12,171,10,"recentReactions"],[145,27,171,25],[145,30,171,28],[145,34,171,32],[145,35,171,33,"driverReactions"],[145,50,171,48],[145,51,171,49,"slice"],[145,56,171,54],[145,57,171,55],[145,58,171,56],[145,61,171,59],[145,62,171,60],[146,6,173,4],[146,11,173,9],[146,17,173,15,"reaction"],[146,25,173,23],[146,29,173,27,"recentReactions"],[146,44,173,42],[146,46,173,44],[147,8,174,6],[147,14,174,12,"type"],[147,18,174,16],[147,21,174,19,"reaction"],[147,29,174,27],[147,30,174,28,"obstacleType"],[147,42,174,40],[148,8,176,6],[148,12,176,10,"reaction"],[148,20,176,18],[148,21,176,19,"action"],[148,27,176,25],[148,32,176,30],[148,43,176,41],[148,45,176,43],[149,10,177,8],[150,10,178,8,"defaults"],[150,18,178,16],[150,19,178,17,"type"],[150,23,178,21],[150,24,178,22],[150,27,178,25,"Math"],[150,31,178,29],[150,32,178,30,"min"],[150,35,178,33],[150,36,178,34,"defaults"],[150,44,178,42],[150,45,178,43,"type"],[150,49,178,47],[150,50,178,48],[150,53,178,51],[150,55,178,53],[150,57,178,55],[150,61,178,59],[150,62,178,60],[151,8,179,6],[151,9,179,7],[151,15,179,13],[151,19,179,17,"reaction"],[151,27,179,25],[151,28,179,26,"action"],[151,34,179,32],[151,39,179,37],[151,50,179,48],[151,52,179,50],[152,10,180,8],[153,10,181,8,"defaults"],[153,18,181,16],[153,19,181,17,"type"],[153,23,181,21],[153,24,181,22],[153,27,181,25,"Math"],[153,31,181,29],[153,32,181,30,"max"],[153,35,181,33],[153,36,181,34,"defaults"],[153,44,181,42],[153,45,181,43,"type"],[153,49,181,47],[153,50,181,48],[153,53,181,51],[153,55,181,53],[153,57,181,55],[153,60,181,58],[153,61,181,59],[154,8,182,6],[155,6,183,4],[156,6,185,4],[156,13,185,11,"defaults"],[156,21,185,19],[157,4,186,2],[159,4,188,2],[160,0,189,0],[161,0,190,0],[162,4,191,2],[162,10,191,8,"recordDriverReaction"],[162,30,191,28,"recordDriverReaction"],[162,31,192,4,"obstacle"],[162,39,192,22],[162,41,193,4,"action"],[162,47,193,49],[162,49,194,19],[163,6,195,4],[163,12,195,10,"reaction"],[163,20,195,34],[163,23,195,37],[164,8,196,6,"obstacleId"],[164,18,196,16],[164,20,196,18,"obstacle"],[164,28,196,26],[164,29,196,27,"id"],[164,31,196,29],[165,8,197,6,"obstacleType"],[165,20,197,18],[165,22,197,20,"obstacle"],[165,30,197,28],[165,31,197,29,"type"],[165,35,197,33],[166,8,198,6,"action"],[166,14,198,12],[167,8,199,6,"timestamp"],[167,17,199,15],[167,19,199,17],[167,23,199,21,"Date"],[167,27,199,25],[167,28,199,26],[167,29,199,27],[167,30,199,28,"toISOString"],[167,41,199,39],[167,42,199,40],[167,43,199,41],[168,8,200,6,"distance"],[168,16,200,14],[168,18,200,16,"obstacle"],[168,26,200,24],[168,27,200,25,"distance"],[169,6,201,4],[169,7,201,5],[170,6,203,4],[170,10,203,8],[170,11,203,9,"driverReactions"],[170,26,203,24],[170,27,203,25,"push"],[170,31,203,29],[170,32,203,30,"reaction"],[170,40,203,38],[170,41,203,39],[172,6,205,4],[173,6,206,4],[173,10,206,8],[173,14,206,12],[173,15,206,13,"driverReactions"],[173,30,206,28],[173,31,206,29,"length"],[173,37,206,35],[173,40,206,38],[173,43,206,41],[173,45,206,43],[174,8,207,6],[174,12,207,10],[174,13,207,11,"driverReactions"],[174,28,207,26],[174,31,207,29],[174,35,207,33],[174,36,207,34,"driverReactions"],[174,51,207,49],[174,52,207,50,"slice"],[174,57,207,55],[174,58,207,56],[174,59,207,57],[174,62,207,60],[174,63,207,61],[175,6,208,4],[176,6,210,4],[176,12,210,10],[176,16,210,14],[176,17,210,15,"saveDriverReactions"],[176,36,210,34],[176,37,210,35],[176,38,210,36],[177,6,212,4,"console"],[177,13,212,11],[177,14,212,12,"log"],[177,17,212,15],[177,18,212,16],[177,50,212,48,"action"],[177,56,212,54],[177,64,212,62,"obstacle"],[177,72,212,70],[177,73,212,71,"type"],[177,77,212,75],[177,84,212,82,"obstacle"],[177,92,212,90],[177,93,212,91,"distance"],[177,101,212,99],[177,104,212,102],[177,105,212,103],[178,4,213,2],[180,4,215,2],[181,0,216,0],[182,0,217,0],[183,4,218,2,"markAsPassed"],[183,16,218,14,"markAsPassed"],[183,17,218,15,"obstacleId"],[183,27,218,33],[183,29,218,41],[184,6,219,4],[184,10,219,8],[184,11,219,9,"passedObstacles"],[184,26,219,24],[184,27,219,25,"add"],[184,30,219,28],[184,31,219,29,"obstacleId"],[184,41,219,39],[184,42,219,40],[185,6,220,4,"console"],[185,13,220,11],[185,14,220,12,"log"],[185,17,220,15],[185,18,220,16],[185,50,220,48,"obstacleId"],[185,60,220,58],[185,62,220,60],[185,63,220,61],[186,4,221,2],[188,4,223,2],[189,0,224,0],[190,0,225,0],[191,4,226,2,"clearPassedObstacles"],[191,24,226,22,"clearPassedObstacles"],[191,25,226,22],[191,27,226,31],[192,6,227,4],[192,10,227,8],[192,11,227,9,"passedObstacles"],[192,26,227,24],[192,27,227,25,"clear"],[192,32,227,30],[192,33,227,31],[192,34,227,32],[193,6,228,4,"console"],[193,13,228,11],[193,14,228,12,"log"],[193,17,228,15],[193,18,228,16],[193,47,228,45],[193,48,228,46],[194,4,229,2],[196,4,231,2],[197,0,232,0],[198,0,233,0],[199,4,234,2],[199,10,234,16,"saveDriverReactions"],[199,29,234,35,"saveDriverReactions"],[199,30,234,35],[199,32,234,53],[200,6,235,4],[200,10,235,8],[201,8,236,6],[201,14,236,12,"AsyncStorage"],[201,26,236,24],[201,27,236,24,"default"],[201,34,236,24],[201,35,236,25,"setItem"],[201,42,236,32],[201,43,237,8],[201,61,237,26],[201,63,238,8,"JSON"],[201,67,238,12],[201,68,238,13,"stringify"],[201,77,238,22],[201,78,238,23],[201,82,238,27],[201,83,238,28,"driverReactions"],[201,98,238,43],[201,99,239,6],[201,100,239,7],[202,6,240,4],[202,7,240,5],[202,8,240,6],[202,15,240,13,"error"],[202,20,240,18],[202,22,240,20],[203,8,241,6,"console"],[203,15,241,13],[203,16,241,14,"error"],[203,21,241,19],[203,22,241,20],[203,56,241,54],[203,58,241,56,"error"],[203,63,241,61],[203,64,241,62],[204,6,242,4],[205,4,243,2],[207,4,245,2],[208,0,246,0],[209,0,247,0],[210,4,248,2],[210,10,248,16,"loadDriverReactions"],[210,29,248,35,"loadDriverReactions"],[210,30,248,35],[210,32,248,53],[211,6,249,4],[211,10,249,8],[212,8,250,6],[212,14,250,12,"data"],[212,18,250,16],[212,21,250,19],[212,27,250,25,"AsyncStorage"],[212,39,250,37],[212,40,250,37,"default"],[212,47,250,37],[212,48,250,38,"getItem"],[212,55,250,45],[212,56,250,46],[212,74,250,64],[212,75,250,65],[213,8,251,6],[213,12,251,10,"data"],[213,16,251,14],[213,18,251,16],[214,10,252,8],[214,14,252,12],[214,15,252,13,"driverReactions"],[214,30,252,28],[214,33,252,31,"JSON"],[214,37,252,35],[214,38,252,36,"parse"],[214,43,252,41],[214,44,252,42,"data"],[214,48,252,46],[214,49,252,47],[215,10,253,8,"console"],[215,17,253,15],[215,18,253,16,"log"],[215,21,253,19],[215,22,253,20],[215,35,253,33],[215,39,253,37],[215,40,253,38,"driverReactions"],[215,55,253,53],[215,56,253,54,"length"],[215,62,253,60],[215,81,253,79],[215,82,253,80],[216,8,254,6],[217,6,255,4],[217,7,255,5],[217,8,255,6],[217,15,255,13,"error"],[217,20,255,18],[217,22,255,20],[218,8,256,6,"console"],[218,15,256,13],[218,16,256,14,"error"],[218,21,256,19],[218,22,256,20],[218,57,256,55],[218,59,256,57,"error"],[218,64,256,62],[218,65,256,63],[219,6,257,4],[220,4,258,2],[222,4,260,2],[223,0,261,0],[224,0,262,0],[225,4,263,2,"getAdaptationStats"],[225,22,263,20,"getAdaptationStats"],[225,23,263,20],[225,25,268,4],[226,6,269,4],[226,13,269,11],[227,8,270,6,"totalReactions"],[227,22,270,20],[227,24,270,22],[227,28,270,26],[227,29,270,27,"driverReactions"],[227,44,270,42],[227,45,270,43,"length"],[227,51,270,49],[228,8,271,6,"confirmed"],[228,17,271,15],[228,19,271,17],[228,23,271,21],[228,24,271,22,"driverReactions"],[228,39,271,37],[228,40,271,38,"filter"],[228,46,271,44],[228,47,271,45,"r"],[228,48,271,46],[228,52,271,50,"r"],[228,53,271,51],[228,54,271,52,"action"],[228,60,271,58],[228,65,271,63],[228,76,271,74],[228,77,271,75],[228,78,271,76,"length"],[228,84,271,82],[229,8,272,6,"dismissed"],[229,17,272,15],[229,19,272,17],[229,23,272,21],[229,24,272,22,"driverReactions"],[229,39,272,37],[229,40,272,38,"filter"],[229,46,272,44],[229,47,272,45,"r"],[229,48,272,46],[229,52,272,50,"r"],[229,53,272,51],[229,54,272,52,"action"],[229,60,272,58],[229,65,272,63],[229,76,272,74],[229,77,272,75],[229,78,272,76,"length"],[229,84,272,82],[230,8,273,6,"ignored"],[230,15,273,13],[230,17,273,15],[230,21,273,19],[230,22,273,20,"driverReactions"],[230,37,273,35],[230,38,273,36,"filter"],[230,44,273,42],[230,45,273,43,"r"],[230,46,273,44],[230,50,273,48,"r"],[230,51,273,49],[230,52,273,50,"action"],[230,58,273,56],[230,63,273,61],[230,72,273,70],[230,73,273,71],[230,74,273,72,"length"],[231,6,274,4],[231,7,274,5],[232,4,275,2],[234,4,277,2],[235,0,278,0],[236,0,279,0],[237,4,280,2,"getObstacleIcon"],[237,19,280,17,"getObstacleIcon"],[237,20,280,18,"type"],[237,24,280,30],[237,26,280,40],[238,6,281,4],[238,12,281,10,"icons"],[238,17,281,39],[238,20,281,42],[239,8,282,6,"pothole"],[239,15,282,13],[239,17,282,15],[239,22,282,20],[240,8,283,6,"speed_bump"],[240,18,283,16],[240,20,283,18],[240,24,283,22],[241,8,284,6,"bump"],[241,12,284,10],[241,14,284,12],[241,18,284,16],[242,8,285,6,"braking"],[242,15,285,13],[242,17,285,15],[242,21,285,19],[243,8,286,6,"vibration"],[243,17,286,15],[243,19,286,17],[243,23,286,21],[244,8,287,6,"accident"],[244,16,287,14],[244,18,287,16],[245,6,288,4],[245,7,288,5],[246,6,289,4],[246,13,289,11,"icons"],[246,18,289,16],[246,19,289,17,"type"],[246,23,289,21],[246,24,289,22],[246,28,289,26],[246,32,289,30],[247,4,290,2],[249,4,292,2],[250,0,293,0],[251,0,294,0],[252,4,295,2,"getSeverityColor"],[252,20,295,18,"getSeverityColor"],[252,21,295,19,"severity"],[252,29,295,35],[252,31,295,45],[253,6,296,4],[253,10,296,8,"severity"],[253,18,296,16],[253,22,296,20],[253,23,296,21],[253,25,296,23],[253,32,296,30],[253,41,296,39],[253,42,296,40],[253,43,296,41],[254,6,297,4],[254,10,297,8,"severity"],[254,18,297,16],[254,22,297,20],[254,23,297,21],[254,25,297,23],[254,32,297,30],[254,41,297,39],[254,42,297,40],[254,43,297,41],[255,6,298,4],[255,13,298,11],[255,22,298,20],[255,23,298,21],[255,24,298,22],[256,4,299,2],[257,2,300,0],[259,2,302,0],[260,2,303,7],[260,8,303,13,"obstacleService"],[260,23,303,28],[260,26,303,31],[260,30,303,35,"ObstacleService"],[260,45,303,50],[260,46,303,51],[260,47,303,52],[261,2,304,0],[261,6,304,0,"_default"],[261,14,304,0],[261,17,304,15,"obstacleService"],[261,32,304,30],[262,0,304,31],[262,3]],"functionMap":{"names":["<global>","ObstacleService","constructor","fetchNearbyObstacles","filterActiveObstacles","obstacles.filter$argument_0","getClosestObstacle","obstacles.reduce$argument_0","getAlertsForDistance","calculateAlertDistances","recordDriverReaction","markAsPassed","clearPassedObstacles","saveDriverReactions","loadDriverReactions","getAdaptationStats","driverReactions.filter$argument_0","getObstacleIcon","getSeverityColor"],"mappings":"AAA;ACgD;ECS;GDK;EEK;GF0C;EGK;4BCC;KDa;GHC;EKK;4BCI;KDE;GLC;EOK;4BHI;KGG;GPC;EQK;GR0B;ESK;GTsB;EUK;GVG;EWK;GXG;EYK;GZS;EaK;GbU;EcK;6CCQ,6BD;6CCC,6BD;2CCC,2BD;GdE;EgBK;GhBU;EiBK;GjBI;CDC"},"hasCjsExports":false},"type":"js/module"}]}