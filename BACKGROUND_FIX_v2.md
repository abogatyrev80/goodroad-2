# –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —Ñ–æ–Ω–æ–≤–æ–≥–æ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è - v2

## –ü—Ä–æ–±–ª–µ–º–∞ (–ü–û–î–¢–í–ï–†–ñ–î–ï–ù–ê –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º!)

**–°–∏–º–ø—Ç–æ–º—ã:**
- ‚úÖ Foreground service —Ä–∞–±–æ—Ç–∞–µ—Ç (—É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –ø–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è)
- ‚ùå –î–∞–Ω–Ω—ã–µ –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –ø—Ä–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —ç–∫—Ä–∞–Ω–µ
- ‚úÖ –ü–µ—Ä–≤—ã–µ 2 –º–∏–Ω—É—Ç—ã —Ä–∞–±–æ—Ç–∞–ª–æ (14:19-14:21 –ú–°–ö)
- ‚ùå –ü–æ—Å–ª–µ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —ç–∫—Ä–∞–Ω–∞ –¥–∞–Ω–Ω—ã–µ –ø–µ—Ä–µ—Å—Ç–∞–ª–∏ –ø–æ—Å—Ç—É–ø–∞—Ç—å (~—á–∞—Å —Ç–∏—à–∏–Ω—ã)

**–¢–µ—Å—Ç–æ–≤–∞—è –ø–æ–µ–∑–¥–∫–∞:**
- –ù–∞—á–∞–ª–æ: 14:19 –ú–°–ö
- –ë–ª–æ–∫–∏—Ä–æ–≤–∫–∞ —ç–∫—Ä–∞–Ω–∞: ~14:21 –ú–°–ö
- –ó–∞–≤–µ—Ä—à–µ–Ω–∏–µ: ~15:20 –ú–°–ö
- –î–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ: —Ç–æ–ª—å–∫–æ –¥–æ 14:21 –ú–°–ö
- **–ü–æ—Ç–µ—Ä—è–Ω–æ: ~59 –º–∏–Ω—É—Ç –¥–∞–Ω–Ω—ã—Ö**

---

## –ö–æ—Ä–Ω–µ–≤–∞—è –ø—Ä–∏—á–∏–Ω–∞

### –í–µ—Ä—Å–∏—è 1 (–Ω–µ–ø–æ–ª–Ω–∞—è)
```typescript
// Background task –¢–û–õ–¨–ö–û —Å–æ—Ö—Ä–∞–Ω—è–ª GPS –≤ AsyncStorage
await AsyncStorage.setItem('lastBackgroundLocation', JSON.stringify(location));
// ‚ùå –ù–û –ù–ï –æ—Ç–ø—Ä–∞–≤–ª—è–ª –Ω–∞ —Å–µ—Ä–≤–µ—Ä!
```

**–ü—Ä–æ–±–ª–µ–º–∞:** Background task —Å–æ—Ö—Ä–∞–Ω—è–ª –¥–∞–Ω–Ω—ã–µ –ª–æ–∫–∞–ª—å–Ω–æ, –Ω–æ:
1. –ù–µ—Ç –∫–æ–¥–∞ –¥–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
2. Foreground –∫–æ–¥ –Ω–µ —á–∏—Ç–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∏–∑ AsyncStorage
3. –ü—Ä–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–µ –¥–∞–Ω–Ω—ã–µ –Ω–µ —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä—É—é—Ç—Å—è

---

## –†–µ—à–µ–Ω–∏–µ v2

### –ü—Ä—è–º–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑ Background Task

```typescript
TaskManager.defineTask(BACKGROUND_LOCATION_TASK, async ({ data, error }) => {
  if (data) {
    const { locations } = data as any;
    const location = locations[0];
    
    // 1. –ü–æ–ª—É—á–∞–µ–º –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∏–∑ AsyncStorage
    const backendUrl = await AsyncStorage.getItem('backendUrl');
    const deviceId = await AsyncStorage.getItem('deviceId');
    
    // 2. –§–æ—Ä–º–∏—Ä—É–µ–º –ø–∞–∫–µ—Ç –¥–∞–Ω–Ω—ã—Ö (GPS –±–µ–∑ –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä–∞)
    const gpsData = {
      deviceId: deviceId,
      data: [{
        timestamp: location.timestamp,
        gps: {
          latitude: location.coords.latitude,
          longitude: location.coords.longitude,
          speed: location.coords.speed || 0,
          accuracy: location.coords.accuracy || 0,
          altitude: location.coords.altitude,
        },
        accelerometer: [], // –ü—É—Å—Ç–æ–π - –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ —Ñ–æ–Ω–µ
      }]
    };
    
    // 3. üÜï –ü–†–Ø–ú–ê–Ø –û–¢–ü–†–ê–í–ö–ê –Ω–∞ —Å–µ—Ä–≤–µ—Ä
    const response = await fetch(`${backendUrl}/api/raw-data`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify(gpsData),
    });
    
    if (response.ok) {
      console.log('‚úÖ Background: –¥–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω—ã');
    }
  }
});
```

### –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ

```typescript
useEffect(() => {
  // –°–æ—Ö—Ä–∞–Ω—è–µ–º backendUrl –∏ deviceId –¥–ª—è background task
  const saveSettings = async () => {
    await AsyncStorage.setItem('backendUrl', backendUrl);
    await AsyncStorage.setItem('deviceId', deviceId);
  };
  saveSettings();
}, [deviceId, backendUrl]);
```

---

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç —Ç–µ–ø–µ—Ä—å

### –ö–æ–≥–¥–∞ —ç–∫—Ä–∞–Ω –∞–∫—Ç–∏–≤–µ–Ω:
1. **Foreground subscription** ‚Üí UI –æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
2. **Background task** ‚Üí –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç GPS –Ω–∞ —Å–µ—Ä–≤–µ—Ä
3. **–ê–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä** ‚Üí –°–æ–±–∏—Ä–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ –∫–∞–∂–¥—ã–µ 100–º—Å
4. **RawDataCollector** ‚Üí –°–æ–∑–¥–∞—ë—Ç —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ø–∞–∫–µ—Ç—ã (GPS + accel)

### –ö–æ–≥–¥–∞ —ç–∫—Ä–∞–Ω –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω:
1. **Foreground subscription** ‚Üí –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è (–Ω–æ—Ä–º–∞–ª—å–Ω–æ)
2. **Background task** ‚Üí ‚úÖ –ü–†–û–î–û–õ–ñ–ê–ï–¢ —Ä–∞–±–æ—Ç–∞—Ç—å –∏ –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å GPS
3. **–ê–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä** ‚Üí –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –û–°)
4. **Foreground service** ‚Üí –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ

### –ü—Ä–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–µ:
1. **Foreground subscription** ‚Üí –í–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
2. **–ê–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä** ‚Üí –í–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è
3. **Background task** ‚Üí –ü—Ä–æ–¥–æ–ª–∂–∞–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ

---

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –æ—Ç–ø—Ä–∞–≤–ª—è–µ–º—ã—Ö –¥–∞–Ω–Ω—ã—Ö

### Foreground —Ä–µ–∂–∏–º (—Å –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä–æ–º):
```json
{
  "deviceId": "mobile-app-1234567890",
  "data": [
    {
      "timestamp": 1733315670000,
      "gps": {
        "latitude": 55.676646,
        "longitude": 37.252046,
        "speed": 4.75,
        "accuracy": 10.5,
        "altitude": 150
      },
      "accelerometer": [
        {"x": 0.12, "y": -0.05, "z": 9.81, "timestamp": 1733315670100},
        {"x": 0.15, "y": -0.03, "z": 9.78, "timestamp": 1733315670200},
        ...
      ]
    }
  ]
}
```

### Background —Ä–µ–∂–∏–º (—Ç–æ–ª—å–∫–æ GPS):
```json
{
  "deviceId": "mobile-app-1234567890",
  "data": [
    {
      "timestamp": 1733315670000,
      "gps": {
        "latitude": 55.676646,
        "longitude": 37.252046,
        "speed": 4.75,
        "accuracy": 10.5,
        "altitude": 150
      },
      "accelerometer": []  // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤
    }
  ]
}
```

---

## –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ —Ä–µ—à–µ–Ω–∏—è

### ‚úÖ –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π —Å–±–æ—Ä GPS
- –î–∞–Ω–Ω—ã–µ –æ—Ç–ø—Ä–∞–≤–ª—è—é—Ç—Å—è –∫–∞–∂–¥—É—é —Å–µ–∫—É–Ω–¥—É, –¥–∞–∂–µ –ø—Ä–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —ç–∫—Ä–∞–Ω–µ
- –¢—Ä–∞–µ–∫—Ç–æ—Ä–∏—è –¥–≤–∏–∂–µ–Ω–∏—è –Ω–µ –ø—Ä–µ—Ä—ã–≤–∞–µ—Ç—Å—è

### ‚úÖ –ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å –æ—Ç foreground
- Background task –Ω–µ –∑–∞–≤–∏—Å–∏—Ç –æ—Ç —Å–æ—Å—Ç–æ—è–Ω–∏—è React –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞
- –†–∞–±–æ—Ç–∞–µ—Ç –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ —Å foreground –ª–æ–≥–∏–∫–æ–π

### ‚úÖ Graceful degradation
- –ü—Ä–∏ –∞–∫—Ç–∏–≤–Ω–æ–º —ç–∫—Ä–∞–Ω–µ: GPS + –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä (–ø–æ–ª–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
- –ü—Ä–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —ç–∫—Ä–∞–Ω–µ: —Ç–æ–ª—å–∫–æ GPS (—á–∞—Å—Ç–∏—á–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ)
- –°–µ—Ä–≤–µ—Ä –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –æ–±–∞ —Ñ–æ—Ä–º–∞—Ç–∞

### ‚úÖ –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å
- –ü—Ä—è–º–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ –∏–∑ background task
- –ù–µ—Ç –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç AsyncStorage —Å–∏–Ω—Ö—Ä–æ–Ω–∏–∑–∞—Ü–∏–∏
- –õ–æ–≥–∏ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏ –≤ background task

---

## –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è

### –ê–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä –≤ —Ñ–æ–Ω–µ
‚ùå **–ü–æ-–ø—Ä–µ–∂–Ω–µ–º—É –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç** (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ iOS/Android)
- –î–∞–Ω–Ω—ã–µ –∫–∞—á–µ—Å—Ç–≤–∞ –¥–æ—Ä–æ–≥–∏ –Ω–µ–ø–æ–ª–Ω—ã–µ –ø—Ä–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —ç–∫—Ä–∞–Ω–µ
- –í–æ–∑–æ–±–Ω–æ–≤–ª—è–µ—Ç—Å—è –ø—Ä–∏ —Ä–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∫–µ

### Expo Go
‚ö†Ô∏è **Background tasks –æ–≥—Ä–∞–Ω–∏—á–µ–Ω—ã –≤ Expo Go**
- –î–ª—è –ø–æ–ª–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω—É–∂–µ–Ω Development Build –∏–ª–∏ production –¥–µ–ø–ª–æ–π
- –í Expo Go —Ñ–æ–Ω–æ–≤–æ–µ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –º–æ–∂–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –Ω–µ—Å—Ç–∞–±–∏–ª—å–Ω–æ

### –≠–Ω–µ—Ä–≥–æ–ø–æ—Ç—Ä–µ–±–ª–µ–Ω–∏–µ
‚ö° **–ü–æ—Å—Ç–æ—è–Ω–Ω–æ–µ GPS –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ –ø–æ—Ç—Ä–µ–±–ª—è–µ—Ç –±–∞—Ç–∞—Ä–µ—é**
- –ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç—Å—è —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ —Ñ–æ–Ω–æ–≤–æ–π —Ä–∞–±–æ—Ç–µ
- –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –∏–Ω—Ñ–æ—Ä–º–∏—Ä–æ–≤–∞–Ω —á–µ—Ä–µ–∑ foreground service notification

---

## –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ê–∫—Ç–∏–≤–Ω—ã–π —ç–∫—Ä–∞–Ω
1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ù–∞–∂–∞—Ç—å "–ù–∞—á–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ"
3. –ü–æ–¥–æ–∂–¥–∞—Ç—å 10 —Å–µ–∫—É–Ω–¥
4. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
5. **–û–∂–∏–¥–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–µ —Å GPS + –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä–æ–º –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —ç–∫—Ä–∞–Ω (–ö–õ–Æ–ß–ï–í–û–ô!)
1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ù–∞–∂–∞—Ç—å "–ù–∞—á–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ"
3. **–ó–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å —ç–∫—Ä–∞–Ω** üì±üîí
4. –ñ–¥–∞—Ç—å 1-2 –º–∏–Ω—É—Ç—ã
5. –†–∞–∑–±–ª–æ–∫–∏—Ä–æ–≤–∞—Ç—å
6. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
7. **–û–∂–∏–¥–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–µ –∑–∞ –≤—Å—ë –≤—Ä–µ–º—è (—Å –ø—É—Å—Ç—ã–º –∞–∫—Å–µ–ª–µ—Ä–æ–º–µ—Ç—Ä–æ–º –≤–æ –≤—Ä–µ–º—è –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏)

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –≤ —Ñ–æ–Ω–µ
1. –û—Ç–∫—Ä—ã—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
2. –ù–∞–∂–∞—Ç—å "–ù–∞—á–∞—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ"
3. **–°–≤–µ—Ä–Ω—É—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ** (–ø–µ—Ä–µ–π—Ç–∏ –Ω–∞ –¥–æ–º–∞—à–Ω–∏–π —ç–∫—Ä–∞–Ω)
4. –ñ–¥–∞—Ç—å 1-2 –º–∏–Ω—É—Ç—ã
5. –í–µ—Ä–Ω—É—Ç—å—Å—è –≤ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
6. –û—Å—Ç–∞–Ω–æ–≤–∏—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ
7. **–û–∂–∏–¥–∞–Ω–∏–µ:** –î–∞–Ω–Ω—ã–µ –∑–∞ –≤—Å—ë –≤—Ä–µ–º—è

---

## –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ production

```bash
# –ü–æ—Å–ª–µ–¥–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ
curl -s 'https://road-monitor-4.emergent.host/api/admin/v2/raw-data?limit=10' \
  | jq '.data | map({timestamp, latitude, longitude, speed})'

# –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
watch -n 5 'curl -s "https://road-monitor-4.emergent.host/api/admin/v2/analytics" | jq ".summary"'
```

---

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. **–ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ**
   - –ü—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
   - –î–ª–∏–Ω–Ω–∞—è –ø–æ–µ–∑–¥–∫–∞ —Å –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω—ã–º —ç–∫—Ä–∞–Ω–æ–º
   - –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–µ–ø—Ä–µ—Ä—ã–≤–Ω–æ—Å—Ç—å –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —Å–µ—Ä–≤–µ—Ä–µ

2. **–ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –≤ Expo Go**
   - –°–æ–∑–¥–∞—Ç—å Development Build
   - –ò–ª–∏ –¥–æ–∂–¥–∞—Ç—å—Å—è production –¥–µ–ø–ª–æ—è

3. **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ —É–ª—É—á—à–µ–Ω–∏—è**
   - –î–æ–±–∞–≤–∏—Ç—å –±—É—Ñ–µ—Ä–∏–∑–∞—Ü–∏—é background –¥–∞–Ω–Ω—ã—Ö –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ —Å–µ—Ç–∏
   - –î–æ–±–∞–≤–∏—Ç—å retry –ª–æ–≥–∏–∫—É –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö –æ—Ç–ø—Ä–∞–≤–∫–∏
   - –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞—Ç—å —á–∞—Å—Ç–æ—Ç—É –æ—Ç–ø—Ä–∞–≤–∫–∏ –¥–ª—è —ç–∫–æ–Ω–æ–º–∏–∏ –±–∞—Ç–∞—Ä–µ–∏

---

## –ò–∑–º–µ–Ω—ë–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã

- `/app/frontend/app/index.tsx`
  - Background task —Ç–µ–ø–µ—Ä—å –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –¥–∞–Ω–Ω—ã–µ –Ω–∞ —Å–µ—Ä–≤–µ—Ä
  - –î–æ–±–∞–≤–ª–µ–Ω–æ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ AsyncStorage
  - –£–ª—É—á—à–µ–Ω–æ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ

---

**–°—Ç–∞—Ç—É—Å:** ‚úÖ –ì–æ—Ç–æ–≤–æ –∫ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º —É—Å—Ç—Ä–æ–π—Å—Ç–≤–µ
**–û–∂–∏–¥–∞–µ–º—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç:** –ù–µ–ø—Ä–µ—Ä—ã–≤–Ω—ã–π —Å–±–æ—Ä GPS –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç, –¥–∞–∂–µ –ø—Ä–∏ –∑–∞–±–ª–æ–∫–∏—Ä–æ–≤–∞–Ω–Ω–æ–º —ç–∫—Ä–∞–Ω–µ
